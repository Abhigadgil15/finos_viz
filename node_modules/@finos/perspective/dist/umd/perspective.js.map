{"version":3,"sources":["webpack:///packages/perspective/webpack/universalModuleDefinition","webpack:///packages/node_modules/detectie/detectie.js","webpack:///packages/src/js/api/dispatch.js","webpack:///packages/src/js/api/view_api.js","webpack:///packages/src/js/utils.js","webpack:///packages/src/js/api/table_api.js","webpack:///packages/src/js/api/client.js","webpack:///packages/src/js/config/index.js","webpack:///packages/src/js/config/settings.js","webpack:///packages/src/js/config/constants.js","webpack:///packages/perspective/dist/esm/@finos/perspective-cpp/dist/esm/perspective.cpp.wasm","webpack:///packages/src/js/perspective.parallel.js","webpack:///packages/perspective/dist/esm/perspective.worker.js","webpack:///packages/src/js/websocket/client.js","webpack:///packages/node_modules/worker-loader/dist/runtime/inline.js","webpack:///packages/perspective/webpack/bootstrap","webpack:///packages/perspective/webpack/startup","webpack:///packages/perspective/webpack/runtime/compat get default export","webpack:///packages/perspective/webpack/runtime/define property getters","webpack:///packages/perspective/webpack/runtime/global","webpack:///packages/perspective/webpack/runtime/hasOwnProperty shorthand","webpack:///packages/perspective/webpack/runtime/make namespace object","webpack:///packages/perspective/webpack/runtime/publicPath"],"names":["root","factory","exports","module","define","amd","self","ua","window","navigator","userAgent","msie","indexOf","parseInt","substring","rv","edge","__CALLBACK_CACHE__","WeakMap","__CALLBACK_INDEX__","unsubscribe","method","cmd","resolve","reject","args","Array","prototype","slice","call","arguments","length","i","splice","callback_id","get","delete","msg","name","this","_name","subscribe","_worker","post","set","async_queue","Promise","bind","view","worker","table_name","config","Math","random","view_name","_initialized","_features","wait_for_response","bindall","obj","key","Object","getOwnPropertyNames","value","getPrototypeOf","get_config","get_min_max","to_json","to_arrow","to_columns","to_csv","schema","expression_schema","column_paths","num_columns","num_rows","set_depth","get_row_expanded","expand","collapse","col_to_js_typed_array","on_update","remove_update","on_delete","remove_delete","require","table","data","options","then","arrow","updated","update","delta","mode","proxy_table","String","includes","search","start","defineProperty","searchElement","fromIndex","TypeError","o","len","x","y","n","k","max","abs","isNaN","type","get_index","get_limit","make_port","remove_port","validate_expressions","is_valid_filter","size","columns","clear","replace","remove","execute","f","toString","Client","constructor","initialized","transferable","msg_id","handlers","messages","handler","keys","keep_alive","id","send","push","initialize_profile_thread","Error","open_table","_handle","e","document","undefined","event","createEvent","initEvent","dispatchEvent","msgs","feature","m","hasOwnProperty","error","terminate","DEFAULT_CONFIG","isObject","item","isArray","mergeDeep","target","sources","source","shift","assign","get_types","types","get_type_config","props","global","__PERSPECTIVE_CONFIG__","override_config","console","warn","__TEMPLATE_CONFIG__","float","filter_operator","aggregate","format","style","minimumFractionDigits","maximumFractionDigits","string","integer","boolean","datetime","week","year","month","day","hour","minute","second","null_value","date","DATA_TYPES","object","CONFIG_ALIASES","row_pivot","col_pivot","col_pivots","column_pivot","filters","sorts","CONFIG_VALID_KEYS","NUMBER_AGGREGATES","STRING_AGGREGATES","SORT_ORDERS","SORT_ORDER_IDS","TYPE_AGGREGATES","FILTER_OPERATORS","lessThan","greaterThan","equals","lessThanOrEquals","greaterThanOrEquals","doesNotEqual","isNull","isNotNull","isIn","isNotIn","contains","bitwiseAnd","bitwiseOr","and","or","beginsWith","endsWith","BOOLEAN_FILTERS","NUMBER_FILTERS","STRING_FILTERS","DATETIME_FILTERS","COLUMN_SEPARATOR_STRING","TYPE_FILTERS","WebSocketClient","override","wasm","ArrayBuffer","_wasm","req","fetch","arrayBuffer","WebWorkerClient","super","register","WebAssembly","buffer","all","addEventListener","postMessage","_detect_transferable","ab","byteLength","debug","WORKER_SINGLETON","__WORKER__","__CONFIG__","getInstance","config_str","JSON","stringify","currentScript","hasAttribute","mod","websocket","url","location","origin","WebSocket","shared_worker","prop","defaults","ws","_ws","binaryType","_full_binary","_total_chunk_length","_pending_binary_length","onopen","ping","setTimeout","onmessage","_pending_binary","binary_msg","Uint8Array","result","_pending_port_id","new_data_with_port_id","port_id","parse","binary_length","pre_msg","onclose","close","content","workerConstructor","workerOptions","blob","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","URL","webkitURL","objectURL","createObjectURL","revokeObjectURL","concat","encodeURIComponent","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","d","a","definition","enumerable","g","globalThis","Function","r","Symbol","toStringTag","scriptUrl","importScripts","src","scripts","getElementsByTagName","p"],"mappings":"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","file":"perspective.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"perspective\"] = factory();\n\telse\n\t\troot[\"perspective\"] = factory();\n})(self, function() {\nreturn ","/**\n * detect IE\n * returns version of IE or false, if browser is not Internet Explorer\n */\nvar detectie = function() {\n    var ua = window.navigator.userAgent;\n\n    var msie = ua.indexOf('MSIE ');\n    if (msie > 0) {\n        // IE 10 or older => return version number\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n    }\n\n    var trident = ua.indexOf('Trident/');\n    if (trident > 0) {\n        // IE 11 => return version number\n        var rv = ua.indexOf('rv:');\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n    }\n\n    var edge = ua.indexOf('Edge/');\n    if (edge > 0) {\n       // IE 12 => return version number\n       return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n    }\n    // other browser\n    return false;\n}\n\nmodule.exports = detectie;","/******************************************************************************\n *\n * Copyright (c) 2019, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nconst __CALLBACK_CACHE__ = new WeakMap();\nlet __CALLBACK_INDEX__ = 0;\n\n/**\n * Unbind a listener to an event.\n *\n * @param {*} method\n * @param {*} cmd\n */\nexport function unsubscribe(method, cmd) {\n    return function() {\n        let resolve;\n        let reject = () => {};\n        let args = Array.prototype.slice.call(arguments, 0, arguments.length);\n        for (let i = args.length - 1; i >= 0; i--) {\n            if (typeof args[i] === \"function\") {\n                resolve = args.splice(i, 1)[0];\n            }\n        }\n        const callback_id = __CALLBACK_CACHE__.get(resolve);\n        __CALLBACK_CACHE__.delete(resolve);\n        let msg = {\n            cmd: cmd || \"view_method\",\n            name: this._name,\n            method: method,\n            args: args,\n            subscribe: true,\n            callback_id\n        };\n        this._worker.post(msg, resolve, reject);\n        this._worker.unsubscribe(cmd, resolve);\n    };\n}\n\n/**\n * Bind a listener to an event.\n *\n * @param {*} method\n * @param {*} cmd\n */\nexport function subscribe(method, cmd) {\n    return function() {\n        let resolve;\n        let reject = () => {};\n        let args = Array.prototype.slice.call(arguments, 0, arguments.length);\n        for (let i = args.length - 1; i >= 0; i--) {\n            if (typeof args[i] === \"function\") {\n                resolve = args.splice(i, 1)[0];\n            }\n        }\n        __CALLBACK_INDEX__++;\n        __CALLBACK_CACHE__.set(resolve, __CALLBACK_INDEX__);\n        let msg = {\n            cmd: cmd || \"view_method\",\n            name: this._name,\n            method: method,\n            args: args,\n            subscribe: true,\n            callback_id: __CALLBACK_INDEX__\n        };\n        this._worker.post(msg, resolve, reject, true);\n    };\n}\n\n/**\n * Add a method call to the queue, preparing it for execution.\n *\n * Returns a bound function that calls the desired method on the server.\n *\n * @param {*} method\n * @param {*} cmd\n */\nexport function async_queue(method, cmd) {\n    return function() {\n        var args = Array.prototype.slice.call(arguments, 0, arguments.length);\n        return new Promise(\n            function(resolve, reject) {\n                var msg = {\n                    cmd: cmd || \"view_method\",\n                    name: this._name,\n                    method: method,\n                    args: args,\n                    subscribe: false\n                };\n                this._worker.post(msg, resolve, reject);\n            }.bind(this)\n        );\n    };\n}\n","/******************************************************************************\n *\n * Copyright (c) 2019, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {subscribe, unsubscribe, async_queue} from \"./dispatch.js\";\n\n/**\n * Construct a proxy for the view object by creating a \"view\" message and\n * sending it through the worker.\n *\n * @param {*} worker\n * @param {*} table_name\n * @param {*} config\n */\nexport function view(worker, table_name, config) {\n    return new Promise((resolve, reject) => {\n        this._worker = worker;\n        this._name = Math.random() + \"\";\n\n        this._worker.post(\n            {\n                cmd: \"view\",\n                view_name: this._name,\n                table_name: table_name,\n                config: config\n            },\n            () => {\n                // Resolve the Promise with this function, which is a proxy\n                // view that dispatches all view methods to the backend, i.e.\n                // a Web Worker or a Python/Node Perspective server. Because\n                // arrow functions automatically capture `this` from the\n                // surrounding scope, there is no need to explicitly bind the\n                // resolving value to `this`.\n                resolve(this);\n            },\n            reject\n        );\n\n        if (this._worker._initialized === true && !this._worker._features?.wait_for_response) {\n            resolve(this);\n        }\n    });\n}\n\n/**\n * Create a reference to a view located on `worker` for use by remote clients.\n *\n * @param {worker} worker the Web Worker at which the view is located.\n * @param {String} name a unique name for the view.\n */\nexport function proxy_view(worker, name) {\n    this._worker = worker;\n    this._name = name;\n}\n\nproxy_view.prototype = view.prototype;\n\n// Send view methods that do not create new objects (getters, setters etc.) to\n// the queue for processing.\n\nview.prototype.get_config = async_queue(\"get_config\");\n\nview.prototype.get_min_max = async_queue(\"get_min_max\");\n\nview.prototype.to_json = async_queue(\"to_json\");\n\nview.prototype.to_arrow = async_queue(\"to_arrow\");\n\nview.prototype.to_columns = async_queue(\"to_columns\");\n\nview.prototype.to_csv = async_queue(\"to_csv\");\n\nview.prototype.schema = async_queue(\"schema\");\n\nview.prototype.expression_schema = async_queue(\"expression_schema\");\n\nview.prototype.column_paths = async_queue(\"column_paths\");\n\nview.prototype.num_columns = async_queue(\"num_columns\");\n\nview.prototype.num_rows = async_queue(\"num_rows\");\n\nview.prototype.set_depth = async_queue(\"set_depth\");\n\nview.prototype.get_row_expanded = async_queue(\"get_row_expanded\");\n\nview.prototype.expand = async_queue(\"expand\");\n\nview.prototype.collapse = async_queue(\"collapse\");\n\nview.prototype.delete = async_queue(\"delete\");\n\nview.prototype.col_to_js_typed_array = async_queue(\"col_to_js_typed_array\");\n\nview.prototype.on_update = subscribe(\"on_update\", \"view_method\", true);\n\nview.prototype.remove_update = unsubscribe(\"remove_update\", \"view_method\", true);\n\nview.prototype.on_delete = subscribe(\"on_delete\", \"view_method\", true);\n\nview.prototype.remove_delete = unsubscribe(\"remove_delete\", \"view_method\", true);\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\n/**\n * Gets human-readable types for a column\n * @private\n * @returns {string}\n */\nexport function get_column_type(val) {\n    if (val >= 1 && val <= 8) {\n        return \"integer\";\n    } else if (val === 19) {\n        return \"string\";\n    } else if (val === 10 || val === 9) {\n        return \"float\";\n    } else if (val === 11) {\n        return \"boolean\";\n    } else if (val === 12) {\n        return \"datetime\";\n    } else if (val === 13) {\n        return \"date\";\n    } else {\n        console.warn(`Unknown type for value ${val} with JS type ${typeof val}`);\n    }\n}\n\n/**\n * Bind all methods in a class to the class instance.  It is sad that this is\n * necessary.\n *\n * @export\n * @param {*} self\n */\nexport function bindall(self) {\n    let obj = self;\n    do {\n        for (const key of Object.getOwnPropertyNames(obj)) {\n            const value = self[key];\n            if (key !== \"constructor\" && typeof value === \"function\") {\n                self[key] = value.bind(self);\n            }\n        }\n    } while ((obj = obj !== Object && Object.getPrototypeOf(obj)));\n}\n\n/**\n * Detect Node.js.\n *\n * Returns\n * -------\n * True if the current script is running in Node.js.\n */\nexport function detectNode() {\n    return typeof window === \"undefined\";\n}\n\n/**\n * Detect Internet Explorer.\n *\n * Returns\n * -------\n * True if the current script is running in Internet Explorer.\n */\nexport const detectIE = require(\"detectie\");\n\n/**\n * Detect Chrome.\n *\n * Returns\n * -------\n * Detect if the current script is running in Chrome.\n */\nexport function detectChrome() {\n    var isChromium = window.chrome,\n        winNav = window.navigator,\n        vendorName = winNav.vendor,\n        isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n        isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n        isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\n    if (isIOSChrome) {\n        return true;\n    } else if (isChromium !== null && typeof isChromium !== \"undefined\" && vendorName === \"Google Inc.\" && isOpera === false && isIEedge === false) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// https://github.com/kripken/emscripten/issues/6042\nexport function detect_iphone() {\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n}\n\n/**\n * String.includes() polyfill\n */\nif (!String.prototype.includes) {\n    String.prototype.includes = function(search, start) {\n        if (typeof start !== \"number\") {\n            start = 0;\n        }\n\n        if (start + search.length > this.length) {\n            return false;\n        } else {\n            return this.indexOf(search, start) !== -1;\n        }\n    };\n}\n\n/* eslint-disable-next-line max-len */\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\nif (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, \"includes\", {\n        value: function(searchElement, fromIndex) {\n            if (this == null) {\n                throw new TypeError('\"this\" is null or not defined');\n            }\n\n            // 1. Let O be ? ToObject(this value).\n            var o = Object(this);\n\n            // 2. Let len be ? ToLength(? Get(O, \"length\")).\n            var len = o.length >>> 0;\n\n            // 3. If len is 0, return false.\n            if (len === 0) {\n                return false;\n            }\n\n            // 4. Let n be ? ToInteger(fromIndex). (If fromIndex is undefined,\n            //    this step produces the value 0.)\n            var n = fromIndex | 0;\n\n            // 5. If n ≥ 0, then a. Let k be n.\n            // 6. Else n < 0, a. Let k be len + n. b. If k < 0, let k be 0.\n            var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n            function sameValueZero(x, y) {\n                return x === y || (typeof x === \"number\" && typeof y === \"number\" && isNaN(x) && isNaN(y));\n            }\n\n            // 7. Repeat, while k < len\n            while (k < len) {\n                // a. Let elementK be the result of ? Get(O, ! ToString(k)). b.\n                // If SameValueZero(searchElement, elementK) is true, return\n                // true.\n                if (sameValueZero(o[k], searchElement)) {\n                    return true;\n                }\n                // c. Increase k by 1.\n                k++;\n            }\n\n            // 8. Return false\n            return false;\n        }\n    });\n}\n","/******************************************************************************\n *\n * Copyright (c) 2019, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {unsubscribe, subscribe, async_queue} from \"./dispatch.js\";\nimport {view} from \"./view_api.js\";\nimport {bindall} from \"../utils.js\";\n\n/**\n * Construct a proxy for the table object by creating a \"table\" message and\n * sending it through the worker.\n *\n * @param {*} worker\n * @param {*} data\n * @param {*} options\n */\nexport function table(worker, data, options) {\n    return new Promise((resolve, reject) => {\n        this._worker = worker;\n        this._name = options.name || Math.random() + \"\";\n\n        bindall(this);\n\n        if (data.to_arrow) {\n            this._worker.post({\n                cmd: \"table\",\n                name: this._name,\n                args: [],\n                options: options || {}\n            });\n            data.to_arrow().then(arrow => {\n                this._worker.post(\n                    {\n                        cmd: \"table\",\n                        name: this._name,\n                        args: [arrow],\n                        options: options || {}\n                    },\n                    () => {\n                        data.on_update(\n                            updated => {\n                                this.update(updated.delta);\n                            },\n                            {mode: \"row\"}\n                        );\n                        resolve(this);\n                    },\n                    reject\n                );\n            });\n        } else {\n            this._worker.post(\n                {\n                    cmd: \"table\",\n                    name: this._name,\n                    args: [data],\n                    options: options || {}\n                },\n                () => {\n                    resolve(this);\n                },\n                reject\n            );\n        }\n\n        if (this._worker._initialized === true && !this._worker._features?.wait_for_response) {\n            resolve(this);\n        }\n    });\n}\n\ntable.prototype.type = \"table\";\n\n/**\n * Create a reference to a Perspective table at `worker` for use by remote\n * clients.\n *\n * @param {worker} worker the Web Worker at which the table is located.\n * @param {String} name a unique name for the table.\n */\nexport function proxy_table(worker, name) {\n    this._worker = worker;\n    this._name = name;\n}\n\nproxy_table.prototype = table.prototype;\n\n// Dispatch table methods that create new objects to the worker\ntable.prototype.view = function(config) {\n    return new view(this._worker, this._name, config);\n};\n\n// Dispatch table methods that do not create new objects (getters, setters etc.)\n// to the queue for processing.\ntable.prototype.get_index = async_queue(\"get_index\", \"table_method\");\n\ntable.prototype.get_limit = async_queue(\"get_limit\", \"table_method\");\n\ntable.prototype.make_port = async_queue(\"make_port\", \"table_method\");\n\ntable.prototype.remove_port = async_queue(\"remove_port\", \"table_method\");\n\ntable.prototype.schema = async_queue(\"schema\", \"table_method\");\n\ntable.prototype.validate_expressions = async_queue(\"validate_expressions\", \"table_method\");\n\ntable.prototype.is_valid_filter = async_queue(\"is_valid_filter\", \"table_method\");\n\ntable.prototype.size = async_queue(\"size\", \"table_method\");\n\ntable.prototype.columns = async_queue(\"columns\", \"table_method\");\n\ntable.prototype.clear = async_queue(\"clear\", \"table_method\");\n\ntable.prototype.replace = async_queue(\"replace\", \"table_method\");\n\ntable.prototype.delete = async_queue(\"delete\", \"table_method\");\n\ntable.prototype.on_delete = subscribe(\"on_delete\", \"table_method\", true);\n\ntable.prototype.remove = async_queue(\"remove\", \"table_method\");\n\ntable.prototype.remove_delete = unsubscribe(\"remove_delete\", \"table_method\", true);\n\ntable.prototype.update = function(data, options) {\n    return new Promise((resolve, reject) => {\n        this._worker.post(\n            {\n                name: this._name,\n                cmd: \"table_method\",\n                method: \"update\",\n                args: [data, options || {}]\n            },\n            resolve,\n            reject,\n            false\n        );\n    });\n};\n\ntable.prototype.execute = function(f) {\n    this._worker.post({\n        cmd: \"table_execute\",\n        name: this._name,\n        f: f.toString()\n    });\n};\n","/******************************************************************************\n *\n * Copyright (c) 2019, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {table, proxy_table} from \"./table_api.js\";\nimport {bindall} from \"../utils.js\";\n\n/**\n * Perspective's worker API handles and processes asynchronous messages,\n * interfacing with the Perspective host class.  Child classes must implement\n * the `send()` interface, which defines how messages are dispatched in\n * different contexts.  `handlers` is a dictionary of resolve/reject callbacks\n * for each method the worker receives.\n *\n * @export\n */\nexport class Client {\n    constructor() {\n        this._initialized = false;\n        this._worker = {\n            initialized: {value: false},\n            transferable: false,\n            msg_id: 0,\n            handlers: {},\n            messages: []\n        };\n        bindall(this);\n    }\n\n    /**\n     * Remove a listener for a Perspective-generated event.\n     */\n    unsubscribe(cmd, handler) {\n        for (let key of Object.keys(this._worker.handlers)) {\n            if (this._worker.handlers[key].resolve === handler) {\n                delete this._worker.handlers[key];\n            }\n        }\n    }\n\n    /**\n     * Send a message to the server.\n     */\n    post(msg, resolve, reject, keep_alive = false) {\n        ++this._worker.msg_id;\n        if (resolve || reject) {\n            this._worker.handlers[this._worker.msg_id] = {resolve, reject, keep_alive};\n        }\n        msg.id = this._worker.msg_id;\n        if (this._worker.initialized.value) {\n            this.send(msg);\n        } else {\n            this._worker.messages.push(() => {\n                this.send(msg);\n\n                if ((msg.cmd === \"table\" || msg.cmd === \"view\") && !this._features?.wait_for_response && resolve) {\n                    resolve();\n                }\n            });\n        }\n    }\n\n    /**\n     * Snapshots memory usage from the WebWorker or Node.js process, with the\n     * addition of `wasmHeap` Emscripten's linear memory\n     * @async\n     * @returns {MemoryUsage}\n     */\n    async memory_usage() {\n        return await new Promise((resolve, reject) => {\n            this.post({cmd: \"memory_usage\"}, resolve, reject);\n        });\n    }\n\n    initialize_profile_thread() {\n        if (this._worker.initialized.value) {\n            this.send({id: -1, cmd: \"init_profile_thread\"});\n        } else {\n            this._worker.messages.push(() => this.send({id: -1, cmd: \"init_profile_thread\"}));\n        }\n    }\n\n    /**\n     * Must be implemented in order to transport commands to the server.\n     */\n    send() {\n        throw new Error(\"send() not implemented\");\n    }\n\n    /**\n     * Given the name of a table that is hosted on the server (e.g. using\n     * `perspective-python` or `perspective` in NodeJS), return a `table`\n     * instance that sends all operations and instructions to the `table` on the\n     * server.\n     *\n     * @param {string} name\n     */\n    open_table(name) {\n        return new proxy_table(this, name);\n    }\n\n    /**\n     * Receive a message from the server, and resolve/reject the promise that\n     * is awaiting the content of the message.\n     */\n    _handle(e) {\n        if (!this._worker.initialized.value) {\n            if (!this._initialized && typeof document !== \"undefined\" && document && typeof window !== undefined && window) {\n                try {\n                    const event = document.createEvent(\"Event\");\n                    event.initEvent(\"perspective-ready\", false, true);\n                    window.dispatchEvent(event);\n                } catch (e) {}\n                this._initialized = true;\n            }\n\n            const msgs = this._worker.messages;\n            this._worker.initialized.value = true;\n            this._worker.messages = [];\n\n            // If the `data` attribute of the init message is set, then\n            // set the `features` dictionary with the flags from the server.\n            if (e.data?.data) {\n                this._features = {};\n\n                for (const feature of e.data.data) {\n                    this._features[feature] = true;\n                }\n            }\n\n            if (msgs) {\n                for (const m in msgs) {\n                    if (msgs.hasOwnProperty(m)) {\n                        msgs[m]();\n                    }\n                }\n            }\n        }\n\n        if (e.data.id) {\n            const handler = this._worker.handlers[e.data.id];\n\n            if (handler) {\n                if (e.data.error) {\n                    handler.reject(e.data.error);\n                } else {\n                    handler.resolve(e.data.data);\n                }\n\n                if (!handler.keep_alive) {\n                    delete this._worker.handlers[e.data.id];\n                }\n            }\n        }\n    }\n\n    table(data, options) {\n        return new table(this, data, options || {});\n    }\n\n    terminate() {\n        this._worker.terminate();\n        this._worker = undefined;\n    }\n}\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nconst DEFAULT_CONFIG = require(\"./settings.js\").default;\n\nmodule.exports.get_types = function() {\n    return Object.keys(module.exports.get_config().types);\n};\n\nmodule.exports.get_type_config = function(type) {\n    const config = {};\n    if (module.exports.get_config().types[type]) {\n        Object.assign(config, module.exports.get_config().types[type]);\n    }\n    if (config.type) {\n        const props = module.exports.get_type_config(config.type);\n        Object.assign(props, config);\n        return props;\n    } else {\n        return config;\n    }\n};\n\nfunction isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n\nfunction mergeDeep(target, ...sources) {\n    if (!sources.length) return target;\n    const source = sources.shift();\n\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key]) Object.assign(target, {[key]: {}});\n                mergeDeep(target[key], source[key]);\n            } else {\n                Object.assign(target, {[key]: source[key]});\n            }\n        }\n    }\n\n    return mergeDeep(target, ...sources);\n}\n\nglobal.__PERSPECTIVE_CONFIG__ = undefined;\n\nmodule.exports.override_config = function(config) {\n    if (global.__PERSPECTIVE_CONFIG__) {\n        console.warn(\"Config already initialized!\");\n    }\n    global.__PERSPECTIVE_CONFIG__ = mergeDeep(DEFAULT_CONFIG, config);\n};\n\nmodule.exports.get_config = function get_config() {\n    if (!global.__PERSPECTIVE_CONFIG__) {\n        global.__PERSPECTIVE_CONFIG__ = mergeDeep(DEFAULT_CONFIG, global.__TEMPLATE_CONFIG__ || {});\n    }\n    return global.__PERSPECTIVE_CONFIG__;\n};\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\n/**\n * The default settings which populate `perspective.config.js`.\n */\nmodule.exports.default = {\n    /**\n     * `types` are the type-specific configuration options.  Each key is the\n     * name of a perspective type; their values are configuration objects for\n     * that type.\n     */\n    types: {\n        float: {\n            /**\n             * Which filter operator should be the default when a column of this\n             * type is pivotted.\n             */\n            filter_operator: \"==\",\n\n            /**\n             * Which aggregate should be the default when a column of this type\n             * is pivotted.\n             */\n            aggregate: \"sum\",\n\n            /**\n             * The format object for this type.  Can be either an\n             * `toLocaleString()` `options` object for this type (or supertype),\n             * or a function which returns the formatted string for this type.\n             */\n            format: {\n                style: \"decimal\",\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n            }\n        },\n        string: {\n            filter_operator: \"==\",\n            aggregate: \"count\"\n        },\n        integer: {\n            filter_operator: \"==\",\n            aggregate: \"sum\",\n            format: {}\n        },\n        boolean: {\n            filter_operator: \"==\",\n            aggregate: \"count\"\n        },\n        datetime: {\n            filter_operator: \"==\",\n            aggregate: \"count\",\n            format: {\n                week: \"numeric\",\n                year: \"numeric\",\n                month: \"numeric\",\n                day: \"numeric\",\n                hour: \"numeric\",\n                minute: \"numeric\",\n                second: \"numeric\"\n            },\n            null_value: -1\n        },\n        date: {\n            filter_operator: \"==\",\n            aggregate: \"count\",\n            format: {\n                week: \"numeric\",\n                year: \"numeric\",\n                month: \"numeric\",\n                day: \"numeric\"\n            },\n            null_value: -1\n        }\n    }\n};\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nexport const DATA_TYPES = {\n    integer: \"integer\",\n    float: \"float\",\n    string: \"string\",\n    boolean: \"boolean\",\n    date: \"date\",\n    datetime: \"datetime\",\n    object: \"object\"\n};\n\nexport const CONFIG_ALIASES = {\n    row_pivot: \"row_pivots\",\n    \"row-pivot\": \"row_pivots\",\n    \"row-pivots\": \"row_pivots\",\n    col_pivot: \"column_pivots\",\n    col_pivots: \"column_pivots\",\n    column_pivot: \"column_pivots\",\n    \"column-pivot\": \"column_pivots\",\n    \"column-pivots\": \"column_pivots\",\n    filters: \"filter\",\n    sorts: \"sort\"\n};\n\nexport const CONFIG_VALID_KEYS = [\"viewport\", \"row_pivots\", \"column_pivots\", \"aggregates\", \"columns\", \"filter\", \"sort\", \"computed_columns\", \"expressions\", \"row_pivot_depth\", \"filter_op\"];\n\nconst NUMBER_AGGREGATES = [\n    \"any\",\n    \"avg\",\n    \"abs sum\",\n    \"count\",\n    \"distinct count\",\n    \"dominant\",\n    \"first by index\",\n    \"last by index\",\n    \"last\",\n    \"high\",\n    \"join\",\n    \"low\",\n    \"mean\",\n    \"median\",\n    \"pct sum parent\",\n    \"pct sum grand total\",\n    \"sum\",\n    \"sum abs\",\n    \"sum not null\",\n    \"unique\"\n];\n\nconst STRING_AGGREGATES = [\"any\", \"count\", \"distinct count\", \"distinct leaf\", \"dominant\", \"first by index\", \"join\", \"last by index\", \"last\", \"unique\"];\n\nconst BOOLEAN_AGGREGATES = [\"any\", \"count\", \"distinct count\", \"distinct leaf\", \"dominant\", \"first by index\", \"last by index\", \"last\", \"unique\"];\n\nexport const SORT_ORDERS = [\"none\", \"asc\", \"desc\", \"col asc\", \"col desc\", \"asc abs\", \"desc abs\", \"col asc abs\", \"col desc abs\"];\n\nexport const SORT_ORDER_IDS = [2, 0, 1, 0, 1, 3, 4, 3, 4];\n\nexport const TYPE_AGGREGATES = {\n    string: STRING_AGGREGATES,\n    float: NUMBER_AGGREGATES,\n    integer: NUMBER_AGGREGATES,\n    boolean: BOOLEAN_AGGREGATES,\n    datetime: STRING_AGGREGATES,\n    date: STRING_AGGREGATES\n};\n\nexport const FILTER_OPERATORS = {\n    lessThan: \"<\",\n    greaterThan: \">\",\n    equals: \"==\",\n    lessThanOrEquals: \"<=\",\n    greaterThanOrEquals: \">=\",\n    doesNotEqual: \"!=\",\n    isNull: \"is null\",\n    isNotNull: \"is not null\",\n    isIn: \"in\",\n    isNotIn: \"not in\",\n    contains: \"contains\",\n    bitwiseAnd: \"&\",\n    bitwiseOr: \"|\",\n    and: \"and\",\n    or: \"or\",\n    beginsWith: \"begins with\",\n    endsWith: \"ends with\"\n};\n\nconst BOOLEAN_FILTERS = [\n    FILTER_OPERATORS.bitwiseAnd,\n    FILTER_OPERATORS.bitwiseOr,\n    FILTER_OPERATORS.equals,\n    FILTER_OPERATORS.doesNotEqual,\n    FILTER_OPERATORS.or,\n    FILTER_OPERATORS.and,\n    FILTER_OPERATORS.isNull,\n    FILTER_OPERATORS.isNotNull\n];\n\nconst NUMBER_FILTERS = [\n    FILTER_OPERATORS.lessThan,\n    FILTER_OPERATORS.greaterThan,\n    FILTER_OPERATORS.equals,\n    FILTER_OPERATORS.lessThanOrEquals,\n    FILTER_OPERATORS.greaterThanOrEquals,\n    FILTER_OPERATORS.doesNotEqual,\n    FILTER_OPERATORS.isNull,\n    FILTER_OPERATORS.isNotNull\n];\n\nconst STRING_FILTERS = [\n    FILTER_OPERATORS.equals,\n    FILTER_OPERATORS.contains,\n    FILTER_OPERATORS.doesNotEqual,\n    FILTER_OPERATORS.isIn,\n    FILTER_OPERATORS.isNotIn,\n    FILTER_OPERATORS.beginsWith,\n    FILTER_OPERATORS.endsWith,\n    FILTER_OPERATORS.isNull,\n    FILTER_OPERATORS.isNotNull\n];\n\nconst DATETIME_FILTERS = [\n    FILTER_OPERATORS.lessThan,\n    FILTER_OPERATORS.greaterThan,\n    FILTER_OPERATORS.equals,\n    FILTER_OPERATORS.lessThanOrEquals,\n    FILTER_OPERATORS.greaterThanOrEquals,\n    FILTER_OPERATORS.doesNotEqual,\n    FILTER_OPERATORS.isNull,\n    FILTER_OPERATORS.isNotNull\n];\n\nexport const COLUMN_SEPARATOR_STRING = \"|\";\n\nexport const TYPE_FILTERS = {\n    string: STRING_FILTERS,\n    float: NUMBER_FILTERS,\n    integer: NUMBER_FILTERS,\n    boolean: BOOLEAN_FILTERS,\n    datetime: DATETIME_FILTERS,\n    date: DATETIME_FILTERS\n};\n","export default __webpack_public_path__ + \"perspective.cpp.wasm\";","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport * as defaults from \"./config/constants.js\";\nimport {get_config} from \"./config\";\nimport {Client} from \"./api/client.js\";\nconst {WebSocketClient} = require(\"./websocket/client\");\n\nimport {override_config} from \"../../dist/esm/config/index.js\";\n\nimport wasm_worker from \"./perspective.worker.js\";\nimport wasm from \"./@finos/perspective-cpp/dist/esm/perspective.cpp.wasm\";\n\n// eslint-disable-next-line max-len\nconst INLINE_WARNING = `Perspective has been compiled in INLINE mode.  While \\\nPerspective's runtime performance is not affected, you may see smaller assets \\\nsize and faster engine initial load time using \"file-loader\" to build your\napplication.\nhttps://perspective.finos.org/docs/md/js.html`;\n\n/**\n * Singleton WASM file download cache.\n */\nconst override = new (class {\n    worker() {\n        return wasm_worker();\n    }\n\n    async wasm() {\n        if (wasm instanceof ArrayBuffer) {\n            console.warn(INLINE_WARNING);\n            this._wasm = wasm;\n        } else {\n            const req = await fetch(wasm);\n            this._wasm = await req.arrayBuffer();\n        }\n        return this._wasm;\n    }\n})();\n\n/**\n * WebWorker extends Perspective's `worker` class and defines interactions using\n * the WebWorker API.\n *\n * This class serves as the client API for transporting messages to/from Web\n * Workers.\n */\nclass WebWorkerClient extends Client {\n    constructor(config) {\n        if (config) {\n            override_config(config);\n        }\n        super();\n        this.register();\n    }\n\n    /**\n     * When the worker is created, load either the ASM or WASM bundle depending\n     * on WebAssembly compatibility.  Don't use transferrable so multiple\n     * workers can be instantiated.\n     */\n    async register() {\n        let _worker;\n        const msg = {cmd: \"init\", config: get_config()};\n        if (typeof WebAssembly === \"undefined\") {\n            throw new Error(\"WebAssembly not supported. Support for ASM.JS has been removed as of 0.3.1.\");\n        } else {\n            [_worker, msg.buffer] = await Promise.all([override.worker(), override.wasm()]);\n        }\n        for (var key in this._worker) {\n            _worker[key] = this._worker[key];\n        }\n        this._worker = _worker;\n        this._worker.addEventListener(\"message\", this._handle.bind(this));\n        this._worker.postMessage(msg);\n        this._detect_transferable();\n    }\n\n    /**\n     * Send a message from the worker, using transferables if necessary.\n     *\n     * @param {*} msg\n     */\n    send(msg) {\n        if (this._worker.transferable && msg.args && msg.args[0] instanceof ArrayBuffer) {\n            this._worker.postMessage(msg, [msg.args[0]]);\n        } else {\n            this._worker.postMessage(msg);\n        }\n    }\n\n    terminate() {\n        this._worker.terminate();\n        this._worker = undefined;\n    }\n\n    _detect_transferable() {\n        var ab = new ArrayBuffer(1);\n        this._worker.postMessage(ab, [ab]);\n        this._worker.transferable = ab.byteLength === 0;\n        if (!this._worker.transferable) {\n            console.warn(\"Transferable support not detected\");\n        } else {\n            console.debug(\"Transferable support detected\");\n        }\n    }\n}\n\n/******************************************************************************\n *\n * Web Worker Singleton\n *\n */\n\nconst WORKER_SINGLETON = (function() {\n    let __WORKER__, __CONFIG__;\n    return {\n        getInstance: function(config) {\n            if (__WORKER__ === undefined) {\n                __WORKER__ = new WebWorkerClient(config);\n            }\n            const config_str = JSON.stringify(config);\n            if (__CONFIG__ && config_str !== __CONFIG__) {\n                throw new Error(`Confiuration object for shared_worker() has changed - this is probably a bug in your application.`);\n            }\n            __CONFIG__ = config_str;\n            return __WORKER__;\n        }\n    };\n})();\n\n/**\n * If Perspective is loaded with the `preload` attribute, pre-initialize the\n * worker so it is available at page render.\n */\nif (document.currentScript && document.currentScript.hasAttribute(\"preload\")) {\n    WORKER_SINGLETON.getInstance();\n}\n\nconst mod = {\n    override: x => override.set(x),\n\n    /**\n     * Create a new WebWorkerClient instance. s\n     * @param {*} [config] An optional perspective config object override\n     */\n    worker(config) {\n        return new WebWorkerClient(config);\n    },\n\n    /**\n     * Create a new WebSocketClient instance. The `url` parameter is provided,\n     * load the worker at `url` using a WebSocket. s\n     * @param {*} url Defaults to `window.location.origin`\n     * @param {*} [config] An optional perspective config object override\n     */\n    websocket(url = window.location.origin.replace(\"http\", \"ws\")) {\n        return new WebSocketClient(new WebSocket(url));\n    },\n\n    shared_worker(config) {\n        return WORKER_SINGLETON.getInstance(config);\n    }\n};\n\nfor (let prop of Object.keys(defaults)) {\n    mod[prop] = defaults[prop];\n}\n\nexport default mod;\n","\nimport worker from \"!!../../../../node_modules/worker-loader/dist/runtime/inline.js\";\n\nexport default function Worker_fn() {\n  return worker(\"(()=>{var __webpack_modules__={36:e=>{e.exports=function(){var e=window.navigator.userAgent,t=e.indexOf(\\\"MSIE \\\");if(t>0)return parseInt(e.substring(t+5,e.indexOf(\\\".\\\",t)),10);if(e.indexOf(\\\"Trident/\\\")>0){var r=e.indexOf(\\\"rv:\\\");return parseInt(e.substring(r+3,e.indexOf(\\\".\\\",r)),10)}var n=e.indexOf(\\\"Edge/\\\");return n>0&&parseInt(e.substring(n+5,e.indexOf(\\\".\\\",n)),10)}},152:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{\\\"use strict\\\";__webpack_require__.d(__webpack_exports__,{x:()=>Server});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(206);function error_to_json(e){const t={};return\\\"string\\\"!=typeof e?Object.getOwnPropertyNames(e).forEach((r=>{t[r]=e[r]}),e):t.message=e,t}class Server{constructor(e){this.perspective=e,this._tables={},this._views={},this._callback_cache=new Map}init(e){e.config&&(0,_config__WEBPACK_IMPORTED_MODULE_0__.override_config)(e.config),e.data=[\\\"wait_for_response\\\"],this.post(e)}post(e){throw new Error(`Posting ${e} failed - post() not implemented!`)}process(msg,client_id){switch(msg.cmd){case\\\"init_profile_thread\\\":this.perspective.initialize_profile_thread();break;case\\\"memory_usage\\\":this.post({id:msg.id,data:this.perspective.memory_usage()});break;case\\\"init\\\":this.init(msg);break;case\\\"table\\\":if(void 0===msg.args[0])this._tables[msg.name]=[];else try{const e=this._tables[msg.name],t=this.perspective.table(msg.args[0],msg.options);if(t&&t.then)t.then((t=>{if(this._tables[msg.name]=t,e)for(const t of e)this.process(t);this.post({id:msg.id,data:msg.name})})).catch((e=>this.process_error(msg,e)));else{if(this._tables[msg.name]=t,e)for(const t of e)this.process(t);this.post({id:msg.id,data:msg.name})}}catch(e){return void this.process_error(msg,e)}break;case\\\"table_generate\\\":let g;eval(\\\"g = \\\"+msg.args),g((function(e){this._tables[msg.name]=e,this.post({id:msg.id,data:\\\"created!\\\"})}));break;case\\\"table_execute\\\":let f;eval(\\\"f = \\\"+msg.f),f(this._tables[msg.name]);break;case\\\"table_method\\\":case\\\"view_method\\\":this.process_method_call(msg);break;case\\\"view\\\":const tableMsgQueue=this._tables[msg.table_name];if(tableMsgQueue&&Array.isArray(tableMsgQueue))tableMsgQueue.push(msg),this._views[msg.view_name]=[];else try{const e=this._views[msg.view_name],t=this._tables[msg.table_name].view(msg.config);if(t&&t.then)t.then((t=>{if(this._views[msg.view_name]=t,this._views[msg.view_name].client_id=client_id,e)for(const t of e)this.process(t);this.post({id:msg.id,data:msg.view_name})})).catch((e=>this.process_error(msg,e)));else{if(this._views[msg.view_name]=t,this._views[msg.view_name].client_id=client_id,e)for(const t of e)this.process(t);this.post({id:msg.id,data:msg.view_name})}}catch(e){return void this.process_error(msg,e)}}}process_subscribe(e,t){try{let r;\\\"on\\\"===e.method.slice(0,2)?(r=n=>{let i={id:e.id,data:n};try{if(e.args&&e.args[0]&&\\\"on_update\\\"===e.method&&\\\"row\\\"===e.args[0].mode)return void this.post(i,[n.delta]);this.post(i)}catch(n){console.error(`Removing failed callback to \\\\`${e.method}()\\\\` (presumably due to failed connection)`);const i=e.method.substring(3);t[`remove_${i}`](r)}},e.callback_id&&this._callback_cache.set(e.callback_id,r)):e.callback_id&&(r=this._callback_cache.get(e.callback_id),this._callback_cache.delete(e.callback_id)),r?t[e.method](r,...e.args):console.error(`Callback not found for remote call \\\"${JSON.stringify(e)}\\\"`)}catch(t){return void this.process_error(e,t)}}process_method_call(e){let t,r;const n=e.view_name||e.name;if(t=\\\"table_method\\\"===e.cmd?this._tables[n]:this._views[n],t||\\\"view_method\\\"!==e.cmd)if(t&&t.push)t.push(e);else try{if(e.subscribe)return void this.process_subscribe(e,t);r=t[e.method].apply(t,e.args),r instanceof Promise?r.then((t=>this.process_method_call_response(e,t))).catch((t=>this.process_error(e,t))):this.process_method_call_response(e,r)}catch(t){return void this.process_error(e,t)}else this.process_error(e,{message:\\\"View method cancelled\\\"})}process_method_call_response(e,t){\\\"delete\\\"===e.method&&delete this._views[e.name],\\\"to_arrow\\\"===e.method?this.post({id:e.id,data:t},[t]):this.post({id:e.id,data:t})}process_error(e,t){this.post({id:e.id,error:error_to_json(t)})}clear_views(e){for(let t of Object.keys(this._views))if(this._views[t].client_id===e){try{this._views[t].delete()}catch(e){console.error(e)}delete this._views[t]}console.debug(`GC ${Object.keys(this._views).length} views in memory`)}}},206:(e,t,r)=>{const n=r(106).Z;function i(e){return e&&\\\"object\\\"==typeof e&&!Array.isArray(e)}function o(e,...t){if(!t.length)return e;const r=t.shift();if(i(e)&&i(r))for(const t in r)i(r[t])?(e[t]||Object.assign(e,{[t]:{}}),o(e[t],r[t])):Object.assign(e,{[t]:r[t]});return o(e,...t)}e.exports.get_types=function(){return Object.keys(e.exports.get_config().types)},e.exports.get_type_config=function(t){const r={};if(e.exports.get_config().types[t]&&Object.assign(r,e.exports.get_config().types[t]),r.type){const t=e.exports.get_type_config(r.type);return Object.assign(t,r),t}return r},r.g.__PERSPECTIVE_CONFIG__=void 0,e.exports.override_config=function(e){r.g.__PERSPECTIVE_CONFIG__&&console.warn(\\\"Config already initialized!\\\"),r.g.__PERSPECTIVE_CONFIG__=o(n,e)},e.exports.get_config=function(){return r.g.__PERSPECTIVE_CONFIG__||(r.g.__PERSPECTIVE_CONFIG__=o(n,r.g.__TEMPLATE_CONFIG__||{})),r.g.__PERSPECTIVE_CONFIG__}},106:e=>{e.exports.Z={types:{float:{filter_operator:\\\"==\\\",aggregate:\\\"sum\\\",format:{style:\\\"decimal\\\",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:\\\"==\\\",aggregate:\\\"count\\\"},integer:{filter_operator:\\\"==\\\",aggregate:\\\"sum\\\",format:{}},boolean:{filter_operator:\\\"==\\\",aggregate:\\\"count\\\"},datetime:{filter_operator:\\\"==\\\",aggregate:\\\"count\\\",format:{week:\\\"numeric\\\",year:\\\"numeric\\\",month:\\\"numeric\\\",day:\\\"numeric\\\",hour:\\\"numeric\\\",minute:\\\"numeric\\\",second:\\\"numeric\\\"},null_value:-1},date:{filter_operator:\\\"==\\\",aggregate:\\\"count\\\",format:{week:\\\"numeric\\\",year:\\\"numeric\\\",month:\\\"numeric\\\",day:\\\"numeric\\\"},null_value:-1}}}}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if(\\\"object\\\"==typeof globalThis)return globalThis;try{return this||new Function(\\\"return this\\\")()}catch(e){if(\\\"object\\\"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(e,\\\"__esModule\\\",{value:!0})},(()=>{\\\"use strict\\\";var e,t={};__webpack_require__.r(t),__webpack_require__.d(t,{COLUMN_SEPARATOR_STRING:()=>m,CONFIG_ALIASES:()=>i,CONFIG_VALID_KEYS:()=>o,DATA_TYPES:()=>n,FILTER_OPERATORS:()=>_,SORT_ORDERS:()=>c,SORT_ORDER_IDS:()=>u,TYPE_AGGREGATES:()=>l,TYPE_FILTERS:()=>g});const r=(e=\\\"undefined\\\"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var r,n,i=void 0!==(t=t||{})?t:{};i.ready=new Promise((function(e,t){r=e,n=t}));var o,a={};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);var s,c=[],u=\\\"./this.program\\\",l=function(e,t){throw t},_=\\\"\\\";_=self.location.href,e&&(_=e),_=0!==_.indexOf(\\\"blob:\\\")?_.substr(0,_.lastIndexOf(\\\"/\\\")+1):\\\"\\\",s=function(e){var t=new XMLHttpRequest;return t.open(\\\"GET\\\",e,!1),t.responseType=\\\"arraybuffer\\\",t.send(null),new Uint8Array(t.response)};var f,p,d,h,m=i.print||console.log.bind(console),g=i.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(i[o]=a[o]);a=null,i.arguments&&(c=i.arguments),i.thisProgram&&(u=i.thisProgram),i.quit&&(l=i.quit),i.wasmBinary&&(f=i.wasmBinary),i.noExitRuntime&&(p=i.noExitRuntime),\\\"object\\\"!=typeof WebAssembly&&ee(\\\"no native wasm support detected\\\");var v=!1;function y(e,t){e||ee(\\\"Assertion failed: \\\"+t)}var w=\\\"undefined\\\"!=typeof TextDecoder?new TextDecoder(\\\"utf8\\\"):void 0;function b(e,t,r){for(var n=(t>>>=0)+r,i=t;e[i>>>0]&&!(i>=n);)++i;if(i-t>16&&e.subarray&&w)return w.decode(e.subarray(t>>>0,i>>>0));for(var o=\\\"\\\";t<i;){var a=e[t++>>>0];if(128&a){var s=63&e[t++>>>0];if(192!=(224&a)){var c=63&e[t++>>>0];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++>>>0])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function T(e,t){return(e>>>=0)?b(x,e,t):\\\"\\\"}function k(e,t,r,n){if(!(n>0))return 0;for(var i=r>>>=0,o=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=o)break;t[r++>>>0]=s}else if(s<=2047){if(r+1>=o)break;t[r++>>>0]=192|s>>6,t[r++>>>0]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++>>>0]=224|s>>12,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}else{if(r+3>=o)break;t[r++>>>0]=240|s>>18,t[r++>>>0]=128|s>>12&63,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}}return t[r>>>0]=0,r-i}function O(e,t,r){return k(e,x,t,r)}function C(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}var P,E,x,$,A,S,D,F,M,R=\\\"undefined\\\"!=typeof TextDecoder?new TextDecoder(\\\"utf-16le\\\"):void 0;function j(e,t){for(var r=e,n=r>>1,i=n+t/2;!(n>=i)&&A[n>>>0];)++n;if((r=n<<1)-e>32&&R)return R.decode(x.subarray(e>>>0,r>>>0));for(var o=0,a=\\\"\\\";;){var s=$[e+2*o>>>1];if(0==s||o==t/2)return a;++o,a+=String.fromCharCode(s)}}function I(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);$[t>>>1]=a,t+=2}return $[t>>>1]=0,t-n}function V(e){return 2*e.length}function N(e,t){for(var r=0,n=\\\"\\\";!(r>=t/4);){var i=S[e+4*r>>>2];if(0==i)break;if(++r,i>=65536){var o=i-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(i)}return n}function W(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t>>>=0,i=n+r-4,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),S[t>>>2]=a,(t+=4)+4>i)break}return S[t>>>2]=0,t-n}function z(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function U(e){var t=C(e)+1,r=or(t);return r&&k(e,E,r,t),r}function q(e){var t=C(e)+1,r=pr(t);return k(e,E,r,t),r}function Y(e,t){E.set(e,t>>>0)}function H(e){P=e,i.HEAP8=E=new Int8Array(e),i.HEAP16=$=new Int16Array(e),i.HEAP32=S=new Int32Array(e),i.HEAPU8=x=new Uint8Array(e),i.HEAPU16=A=new Uint16Array(e),i.HEAPU32=D=new Uint32Array(e),i.HEAPF32=F=new Float32Array(e),i.HEAPF64=M=new Float64Array(e)}var L=i.INITIAL_MEMORY||16777216;(d=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:L/65536,maximum:65536}))&&(P=d.buffer),L=P.byteLength,H(P);var G=[],B=[],J=[],X=[],Z=0,Q=null,K=null;function ee(e){i.onAbort&&i.onAbort(e),g(e+=\\\"\\\"),v=!0,e=\\\"abort(\\\"+e+\\\"). Build with -s ASSERTIONS=1 for more info.\\\";var t=new WebAssembly.RuntimeError(e);throw n(t),t}function te(e){return t=e,r=\\\"data:application/octet-stream;base64,\\\",String.prototype.startsWith?t.startsWith(r):0===t.indexOf(r);var t,r}i.preloadedImages={},i.preloadedAudios={};var re,ne=\\\"perspective.cpp.wasm\\\";function ie(){try{if(f)return new Uint8Array(f);if(s)return s(ne);throw\\\"both async and sync fetching of the wasm failed\\\"}catch(e){ee(e)}}te(ne)||(re=ne,ne=i.locateFile?i.locateFile(re,_):_+re);var oe={2511:function(){if(\\\"undefined\\\"!=typeof self)try{if(self.dispatchEvent&&!self._perspective_initialized&&null!==self.document){self._perspective_initialized=!0;var e=self.document.createEvent(\\\"Event\\\");e.initEvent(\\\"perspective-ready\\\",!1,!0),self.dispatchEvent(e)}else!self.document&&self.postMessage&&self.postMessage({})}catch(e){}},29912:function(e){throw new Error(T(e))}};function ae(e){for(;e.length>0;){var t=e.shift();if(\\\"function\\\"!=typeof t){var r=t.func;\\\"number\\\"==typeof r?void 0===t.arg?h.get(r)():h.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(i)}}var se=0,ce=4,ue=8,le=12,_e=13,fe=16;function pe(e){this.excPtr=e,this.ptr=e-fe,this.set_type=function(e){S[this.ptr+ue>>>2]=e},this.get_type=function(){return S[this.ptr+ue>>>2]},this.set_destructor=function(e){S[this.ptr+se>>>2]=e},this.get_destructor=function(){return S[this.ptr+se>>>2]},this.set_refcount=function(e){S[this.ptr+ce>>>2]=e},this.set_caught=function(e){e=e?1:0,E[this.ptr+le>>>0]=e},this.get_caught=function(){return 0!=E[this.ptr+le>>>0]},this.set_rethrown=function(e){e=e?1:0,E[this.ptr+_e>>>0]=e},this.get_rethrown=function(){return 0!=E[this.ptr+_e>>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=S[this.ptr+ce>>>2];S[this.ptr+ce>>>2]=e+1},this.release_ref=function(){var e=S[this.ptr+ce>>>2];return S[this.ptr+ce>>>2]=e-1,1===e}}function de(){return de.uncaught_exceptions>0}function he(){if(!he.called){he.called=!0,S[fr()>>>2]=60*(new Date).getTimezoneOffset();var e=(new Date).getFullYear(),t=new Date(e,0,1),r=new Date(e,6,1);S[_r()>>>2]=Number(t.getTimezoneOffset()!=r.getTimezoneOffset());var n=s(t),i=s(r),o=U(n),a=U(i);r.getTimezoneOffset()<t.getTimezoneOffset()?(S[lr()>>>2]=o,S[lr()+4>>>2]=a):(S[lr()>>>2]=a,S[lr()+4>>>2]=o)}function s(e){var t=e.toTimeString().match(/\\\\(([A-Za-z ]+)\\\\)$/);return t?t[1]:\\\"GMT\\\"}}function me(e,t){he();var r=new Date(1e3*S[e>>>2]);S[t>>>2]=r.getSeconds(),S[t+4>>>2]=r.getMinutes(),S[t+8>>>2]=r.getHours(),S[t+12>>>2]=r.getDate(),S[t+16>>>2]=r.getMonth(),S[t+20>>>2]=r.getFullYear()-1900,S[t+24>>>2]=r.getDay();var n=new Date(r.getFullYear(),0,1),i=(r.getTime()-n.getTime())/864e5|0;S[t+28>>>2]=i,S[t+36>>>2]=-60*r.getTimezoneOffset();var o=new Date(r.getFullYear(),6,1).getTimezoneOffset(),a=n.getTimezoneOffset(),s=0|(o!=a&&r.getTimezoneOffset()==Math.min(a,o));S[t+32>>>2]=s;var c=S[lr()+(s?4:0)>>>2];return S[t+40>>>2]=c,t}var ge={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var r=ge.buffers[e];0===t||10===t?((1===e?m:g)(b(r,0)),r.length=0):r.push(t)},varargs:void 0,get:function(){return ge.varargs+=4,S[ge.varargs-4>>>2]},getStr:function(e){return T(e)},get64:function(e,t){return e}},ve={};function ye(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function we(e){return this.fromWireType(D[e>>>2])}var be={},Te={},ke={};function Oe(e){if(void 0===e)return\\\"_unknown\\\";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,\\\"$\\\")).charCodeAt(0);return t>=48&&t<=57?\\\"_\\\"+e:e}function Ce(e,t){return e=Oe(e),new Function(\\\"body\\\",\\\"return function \\\"+e+'() {\\\\n    \\\"use strict\\\";    return body.apply(this, arguments);\\\\n};\\\\n')(t)}function Pe(e,t){var r=Ce(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+\\\"\\\\n\\\"+r.replace(/^Error(:[^\\\\n]*)?\\\\n/,\\\"\\\"))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+\\\": \\\"+this.message},r}var Ee=void 0;function xe(e){throw new Ee(e)}function $e(e,t,r){function n(t){var n=r(t);n.length!==e.length&&xe(\\\"Mismatched type converter count\\\");for(var i=0;i<e.length;++i)Re(e[i],n[i])}e.forEach((function(e){ke[e]=t}));var i=new Array(t.length),o=[],a=0;t.forEach((function(e,t){Te.hasOwnProperty(e)?i[t]=Te[e]:(o.push(e),be.hasOwnProperty(e)||(be[e]=[]),be[e].push((function(){i[t]=Te[e],++a===o.length&&n(i)})))})),0===o.length&&n(i)}function Ae(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(\\\"Unknown type size: \\\"+e)}}var Se=void 0;function De(e){for(var t=\\\"\\\",r=e;x[r>>>0];)t+=Se[x[r++>>>0]];return t}var Fe=void 0;function Me(e){throw new Fe(e)}function Re(e,t,r){if(r=r||{},!(\\\"argPackAdvance\\\"in t))throw new TypeError(\\\"registerType registeredInstance requires argPackAdvance\\\");var n=t.name;if(e||Me('type \\\"'+n+'\\\" must have a positive integer typeid pointer'),Te.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Me(\\\"Cannot register type '\\\"+n+\\\"' twice\\\")}if(Te[e]=t,delete ke[e],be.hasOwnProperty(e)){var i=be[e];delete be[e],i.forEach((function(e){e()}))}}function je(e){if(!(this instanceof Je))return!1;if(!(e instanceof Je))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return t===n&&r===i}function Ie(e){Me(e.$$.ptrType.registeredClass.name+\\\" instance already deleted\\\")}var Ve=!1;function Ne(e){}function We(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function ze(e){return\\\"undefined\\\"==typeof FinalizationGroup?(ze=function(e){return e},e):(Ve=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?We(r):console.warn(\\\"object already deleted: \\\"+r.ptr)}})),Ne=function(e){Ve.unregister(e.$$)},(ze=function(e){return Ve.register(e,e.$$,e.$$),e})(e))}function Ue(){if(this.$$.ptr||Ie(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=ze(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function qe(){this.$$.ptr||Ie(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Me(\\\"Object already scheduled for deletion\\\"),Ne(this),We(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Ye(){return!this.$$.ptr}var He=void 0,Le=[];function Ge(){for(;Le.length;){var e=Le.pop();e.$$.deleteScheduled=!1,e.delete()}}function Be(){return this.$$.ptr||Ie(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Me(\\\"Object already scheduled for deletion\\\"),Le.push(this),1===Le.length&&He&&He(Ge),this.$$.deleteScheduled=!0,this}function Je(){}var Xe={};function Ze(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Me(\\\"Function '\\\"+r+\\\"' called with an invalid number of arguments (\\\"+arguments.length+\\\") - expects one of (\\\"+e[t].overloadTable+\\\")!\\\"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function Qe(e,t,r){i.hasOwnProperty(e)?((void 0===r||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[r])&&Me(\\\"Cannot register public name '\\\"+e+\\\"' twice\\\"),Ze(i,e,e),i.hasOwnProperty(r)&&Me(\\\"Cannot register multiple overloads of a function with the same number of arguments (\\\"+r+\\\")!\\\"),i[e].overloadTable[r]=t):(i[e]=t,void 0!==r&&(i[e].numArguments=r))}function Ke(e,t,r,n,i,o,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function et(e,t,r){for(;t!==r;)t.upcast||Me(\\\"Expected null or instance of \\\"+r.name+\\\", got an instance of \\\"+t.name),e=t.upcast(e),t=t.baseClass;return e}function tt(e,t){if(null===t)return this.isReference&&Me(\\\"null is not a valid \\\"+this.name),0;t.$$||Me('Cannot pass \\\"'+Dt(t)+'\\\" as a '+this.name),t.$$.ptr||Me(\\\"Cannot pass deleted object as a pointer of type \\\"+this.name);var r=t.$$.ptrType.registeredClass;return et(t.$$.ptr,r,this.registeredClass)}function rt(e,t){var r;if(null===t)return this.isReference&&Me(\\\"null is not a valid \\\"+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||Me('Cannot pass \\\"'+Dt(t)+'\\\" as a '+this.name),t.$$.ptr||Me(\\\"Cannot pass deleted object as a pointer of type \\\"+this.name),!this.isConst&&t.$$.ptrType.isConst&&Me(\\\"Cannot convert argument of type \\\"+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+\\\" to parameter type \\\"+this.name);var n=t.$$.ptrType.registeredClass;if(r=et(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Me(\\\"Passing raw pointer to smart pointer is illegal\\\"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Me(\\\"Cannot convert argument of type \\\"+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+\\\" to parameter type \\\"+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var i=t.clone();r=this.rawShare(r,$t((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:Me(\\\"Unsupporting sharing policy\\\")}return r}function nt(e,t){if(null===t)return this.isReference&&Me(\\\"null is not a valid \\\"+this.name),0;t.$$||Me('Cannot pass \\\"'+Dt(t)+'\\\" as a '+this.name),t.$$.ptr||Me(\\\"Cannot pass deleted object as a pointer of type \\\"+this.name),t.$$.ptrType.isConst&&Me(\\\"Cannot convert argument of type \\\"+t.$$.ptrType.name+\\\" to parameter type \\\"+this.name);var r=t.$$.ptrType.registeredClass;return et(t.$$.ptr,r,this.registeredClass)}function it(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function ot(e){this.rawDestructor&&this.rawDestructor(e)}function at(e){null!==e&&e.delete()}function st(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=st(e,t,r.baseClass);return null===n?null:r.downcast(n)}function ct(){return Object.keys(_t).length}function ut(){var e=[];for(var t in _t)_t.hasOwnProperty(t)&&e.push(_t[t]);return e}function lt(e){He=e,Le.length&&He&&He(Ge)}var _t={};function ft(e,t){return t=function(e,t){for(void 0===t&&Me(\\\"ptr should not be undefined\\\");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),_t[t]}function pt(e,t){return t.ptrType&&t.ptr||xe(\\\"makeClassHandle requires ptr and ptrType\\\"),!!t.smartPtrType!=!!t.smartPtr&&xe(\\\"Both smartPtrType and smartPtr must be specified\\\"),t.count={value:1},ze(Object.create(e,{$$:{value:t}}))}function dt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=ft(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?pt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):pt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,a=this.registeredClass.getActualType(t),s=Xe[a];if(!s)return i.call(this);o=this.isConst?s.constPointerType:s.pointerType;var c=st(t,this.registeredClass,o.registeredClass);return null===c?i.call(this):this.isSmartPointer?pt(o.registeredClass.instancePrototype,{ptrType:o,ptr:c,smartPtrType:this,smartPtr:e}):pt(o.registeredClass.instancePrototype,{ptrType:o,ptr:c})}function ht(e,t,r,n,i,o,a,s,c,u,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=l,i||void 0!==t.baseClass?this.toWireType=rt:n?(this.toWireType=tt,this.destructorFunction=null):(this.toWireType=nt,this.destructorFunction=null)}function mt(e,t,r){i.hasOwnProperty(e)||xe(\\\"Replacing nonexistant public symbol\\\"),void 0!==i[e].overloadTable&&void 0!==r?i[e].overloadTable[r]=t:(i[e]=t,i[e].argCount=r)}function gt(e,t){e=De(e);var r=h.get(t);return\\\"function\\\"!=typeof r&&Me(\\\"unknown function pointer with signature \\\"+e+\\\": \\\"+t),r}var vt=void 0;function yt(e){var t=ur(e),r=De(t);return ar(t),r}function wt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||Te[t]||(ke[t]?ke[t].forEach(e):(r.push(t),n[t]=!0))})),new vt(e+\\\": \\\"+r.map(yt).join([\\\", \\\"]))}function bt(e,t){for(var r=[],n=0;n<e;n++)r.push(S[(t>>2)+n>>>0]);return r}function Tt(e,t){if(!(e instanceof Function))throw new TypeError(\\\"new_ called with constructor type \\\"+typeof e+\\\" which is not a function\\\");var r=Ce(e.name||\\\"unknownFunctionName\\\",(function(){}));r.prototype=e.prototype;var n=new r,i=e.apply(n,t);return i instanceof Object?i:n}function kt(e,t,r,n,i){var o=t.length;o<2&&Me(\\\"argTypes array size mismatch! Must at least get return value and 'this' types!\\\");for(var a=null!==t[1]&&null!==r,s=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){s=!0;break}var u=\\\"void\\\"!==t[0].name,l=\\\"\\\",_=\\\"\\\";for(c=0;c<o-2;++c)l+=(0!==c?\\\", \\\":\\\"\\\")+\\\"arg\\\"+c,_+=(0!==c?\\\", \\\":\\\"\\\")+\\\"arg\\\"+c+\\\"Wired\\\";var f=\\\"return function \\\"+Oe(e)+\\\"(\\\"+l+\\\") {\\\\nif (arguments.length !== \\\"+(o-2)+\\\") {\\\\nthrowBindingError('function \\\"+e+\\\" called with ' + arguments.length + ' arguments, expected \\\"+(o-2)+\\\" args!');\\\\n}\\\\n\\\";s&&(f+=\\\"var destructors = [];\\\\n\\\");var p=s?\\\"destructors\\\":\\\"null\\\",d=[\\\"throwBindingError\\\",\\\"invoker\\\",\\\"fn\\\",\\\"runDestructors\\\",\\\"retType\\\",\\\"classParam\\\"],h=[Me,n,i,ye,t[0],t[1]];for(a&&(f+=\\\"var thisWired = classParam.toWireType(\\\"+p+\\\", this);\\\\n\\\"),c=0;c<o-2;++c)f+=\\\"var arg\\\"+c+\\\"Wired = argType\\\"+c+\\\".toWireType(\\\"+p+\\\", arg\\\"+c+\\\"); // \\\"+t[c+2].name+\\\"\\\\n\\\",d.push(\\\"argType\\\"+c),h.push(t[c+2]);if(a&&(_=\\\"thisWired\\\"+(_.length>0?\\\", \\\":\\\"\\\")+_),f+=(u?\\\"var rv = \\\":\\\"\\\")+\\\"invoker(fn\\\"+(_.length>0?\\\", \\\":\\\"\\\")+_+\\\");\\\\n\\\",s)f+=\\\"runDestructors(destructors);\\\\n\\\";else for(c=a?1:2;c<t.length;++c){var m=1===c?\\\"thisWired\\\":\\\"arg\\\"+(c-2)+\\\"Wired\\\";null!==t[c].destructorFunction&&(f+=m+\\\"_dtor(\\\"+m+\\\"); // \\\"+t[c].name+\\\"\\\\n\\\",d.push(m+\\\"_dtor\\\"),h.push(t[c].destructorFunction))}return u&&(f+=\\\"var ret = retType.fromWireType(rv);\\\\nreturn ret;\\\\n\\\"),f+=\\\"}\\\\n\\\",d.push(f),Tt(Function,d).apply(null,h)}var Ot=[],Ct=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Pt(e){e>4&&0==--Ct[e].refcount&&(Ct[e]=void 0,Ot.push(e))}function Et(){for(var e=0,t=5;t<Ct.length;++t)void 0!==Ct[t]&&++e;return e}function xt(){for(var e=5;e<Ct.length;++e)if(void 0!==Ct[e])return Ct[e];return null}function $t(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Ot.length?Ot.pop():Ct.length;return Ct[t]={refcount:1,value:e},t}}function At(e,t,r){switch(t){case 0:return function(e){var t=r?E:x;return this.fromWireType(t[e>>>0])};case 1:return function(e){var t=r?$:A;return this.fromWireType(t[e>>>1])};case 2:return function(e){var t=r?S:D;return this.fromWireType(t[e>>>2])};default:throw new TypeError(\\\"Unknown integer type: \\\"+e)}}function St(e,t){var r=Te[e];return void 0===r&&Me(t+\\\" has unknown type \\\"+yt(e)),r}function Dt(e){if(null===e)return\\\"null\\\";var t=typeof e;return\\\"object\\\"===t||\\\"array\\\"===t||\\\"function\\\"===t?e.toString():\\\"\\\"+e}function Ft(e,t){switch(t){case 2:return function(e){return this.fromWireType(F[e>>>2])};case 3:return function(e){return this.fromWireType(M[e>>>3])};default:throw new TypeError(\\\"Unknown float type: \\\"+e)}}function Mt(e,t,r){switch(t){case 0:return r?function(e){return E[e>>>0]}:function(e){return x[e>>>0]};case 1:return r?function(e){return $[e>>>1]}:function(e){return A[e>>>1]};case 2:return r?function(e){return S[e>>>2]}:function(e){return D[e>>>2]};default:throw new TypeError(\\\"Unknown integer type: \\\"+e)}}function Rt(e){return e||Me(\\\"Cannot use deleted val. handle = \\\"+e),Ct[e].value}function jt(e,t){for(var r=new Array(e),n=0;n<e;++n)r[n]=St(S[(t>>2)+n>>>0],\\\"parameter \\\"+n);return r}var It={};function Vt(e){var t=It[e];return void 0===t?De(e):t}var Nt=[];function Wt(){return\\\"object\\\"==typeof globalThis?globalThis:Function(\\\"return this\\\")()}var zt,Ut={};function qt(e){return S[cr()>>>2]=e,e}function Yt(e){try{return d.grow(e-P.byteLength+65535>>>16),H(d.buffer),1}catch(e){}}zt=function(){return performance.now()};var Ht={};function Lt(){if(!Lt.strings){var e={USER:\\\"web_user\\\",LOGNAME:\\\"web_user\\\",PATH:\\\"/\\\",PWD:\\\"/\\\",HOME:\\\"/home/web_user\\\",LANG:(\\\"object\\\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\\\"C\\\").replace(\\\"-\\\",\\\"_\\\")+\\\".UTF-8\\\",_:u||\\\"./this.program\\\"};for(var t in Ht)e[t]=Ht[t];var r=[];for(var t in e)r.push(t+\\\"=\\\"+e[t]);Lt.strings=r}return Lt.strings}function Gt(e){return e%4==0&&(e%100!=0||e%400==0)}function Bt(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var Jt=[31,29,31,30,31,30,31,31,30,31,30,31],Xt=[31,28,31,30,31,30,31,31,30,31,30,31];function Zt(e,t){for(var r=new Date(e.getTime());t>0;){var n=Gt(r.getFullYear()),i=r.getMonth(),o=(n?Jt:Xt)[i];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),i<11?r.setMonth(i+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}function Qt(e,t,r,n){var i=S[n+40>>>2],o={tm_sec:S[n>>>2],tm_min:S[n+4>>>2],tm_hour:S[n+8>>>2],tm_mday:S[n+12>>>2],tm_mon:S[n+16>>>2],tm_year:S[n+20>>>2],tm_wday:S[n+24>>>2],tm_yday:S[n+28>>>2],tm_isdst:S[n+32>>>2],tm_gmtoff:S[n+36>>>2],tm_zone:i?T(i):\\\"\\\"},a=T(r),s={\\\"%c\\\":\\\"%a %b %d %H:%M:%S %Y\\\",\\\"%D\\\":\\\"%m/%d/%y\\\",\\\"%F\\\":\\\"%Y-%m-%d\\\",\\\"%h\\\":\\\"%b\\\",\\\"%r\\\":\\\"%I:%M:%S %p\\\",\\\"%R\\\":\\\"%H:%M\\\",\\\"%T\\\":\\\"%H:%M:%S\\\",\\\"%x\\\":\\\"%m/%d/%y\\\",\\\"%X\\\":\\\"%H:%M:%S\\\",\\\"%Ec\\\":\\\"%c\\\",\\\"%EC\\\":\\\"%C\\\",\\\"%Ex\\\":\\\"%m/%d/%y\\\",\\\"%EX\\\":\\\"%H:%M:%S\\\",\\\"%Ey\\\":\\\"%y\\\",\\\"%EY\\\":\\\"%Y\\\",\\\"%Od\\\":\\\"%d\\\",\\\"%Oe\\\":\\\"%e\\\",\\\"%OH\\\":\\\"%H\\\",\\\"%OI\\\":\\\"%I\\\",\\\"%Om\\\":\\\"%m\\\",\\\"%OM\\\":\\\"%M\\\",\\\"%OS\\\":\\\"%S\\\",\\\"%Ou\\\":\\\"%u\\\",\\\"%OU\\\":\\\"%U\\\",\\\"%OV\\\":\\\"%V\\\",\\\"%Ow\\\":\\\"%w\\\",\\\"%OW\\\":\\\"%W\\\",\\\"%Oy\\\":\\\"%y\\\"};for(var c in s)a=a.replace(new RegExp(c,\\\"g\\\"),s[c]);var u=[\\\"Sunday\\\",\\\"Monday\\\",\\\"Tuesday\\\",\\\"Wednesday\\\",\\\"Thursday\\\",\\\"Friday\\\",\\\"Saturday\\\"],l=[\\\"January\\\",\\\"February\\\",\\\"March\\\",\\\"April\\\",\\\"May\\\",\\\"June\\\",\\\"July\\\",\\\"August\\\",\\\"September\\\",\\\"October\\\",\\\"November\\\",\\\"December\\\"];function _(e,t,r){for(var n=\\\"number\\\"==typeof e?e.toString():e||\\\"\\\";n.length<t;)n=r[0]+n;return n}function f(e,t){return _(e,t,\\\"0\\\")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function d(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function h(e){var t=Zt(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),i=d(r),o=d(n);return p(i,t)<=0?p(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={\\\"%a\\\":function(e){return u[e.tm_wday].substring(0,3)},\\\"%A\\\":function(e){return u[e.tm_wday]},\\\"%b\\\":function(e){return l[e.tm_mon].substring(0,3)},\\\"%B\\\":function(e){return l[e.tm_mon]},\\\"%C\\\":function(e){return f((e.tm_year+1900)/100|0,2)},\\\"%d\\\":function(e){return f(e.tm_mday,2)},\\\"%e\\\":function(e){return _(e.tm_mday,2,\\\" \\\")},\\\"%g\\\":function(e){return h(e).toString().substring(2)},\\\"%G\\\":function(e){return h(e)},\\\"%H\\\":function(e){return f(e.tm_hour,2)},\\\"%I\\\":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},\\\"%j\\\":function(e){return f(e.tm_mday+Bt(Gt(e.tm_year+1900)?Jt:Xt,e.tm_mon-1),3)},\\\"%m\\\":function(e){return f(e.tm_mon+1,2)},\\\"%M\\\":function(e){return f(e.tm_min,2)},\\\"%n\\\":function(){return\\\"\\\\n\\\"},\\\"%p\\\":function(e){return e.tm_hour>=0&&e.tm_hour<12?\\\"AM\\\":\\\"PM\\\"},\\\"%S\\\":function(e){return f(e.tm_sec,2)},\\\"%t\\\":function(){return\\\"\\\\t\\\"},\\\"%u\\\":function(e){return e.tm_wday||7},\\\"%U\\\":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:Zt(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(r,n)<0){var i=Bt(Gt(n.getFullYear())?Jt:Xt,n.getMonth()-1)-31,o=31-r.getDate()+i+n.getDate();return f(Math.ceil(o/7),2)}return 0===p(r,t)?\\\"01\\\":\\\"00\\\"},\\\"%V\\\":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),i=d(r),o=d(n),a=Zt(new Date(e.tm_year+1900,0,1),e.tm_yday);return p(a,i)<0?\\\"53\\\":p(o,a)<=0?\\\"01\\\":(t=i.getFullYear()<e.tm_year+1900?e.tm_yday+32-i.getDate():e.tm_yday+1-i.getDate(),f(Math.ceil(t/7),2))},\\\"%w\\\":function(e){return e.tm_wday},\\\"%W\\\":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:Zt(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(r,n)<0){var i=Bt(Gt(n.getFullYear())?Jt:Xt,n.getMonth()-1)-31,o=31-r.getDate()+i+n.getDate();return f(Math.ceil(o/7),2)}return 0===p(r,t)?\\\"01\\\":\\\"00\\\"},\\\"%y\\\":function(e){return(e.tm_year+1900).toString().substring(2)},\\\"%Y\\\":function(e){return e.tm_year+1900},\\\"%z\\\":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?\\\"+\\\":\\\"-\\\")+String(\\\"0000\\\"+t).slice(-4)},\\\"%Z\\\":function(e){return e.tm_zone},\\\"%%\\\":function(){return\\\"%\\\"}};for(var c in m)a.indexOf(c)>=0&&(a=a.replace(new RegExp(c,\\\"g\\\"),m[c](o)));var g=tr(a,!1);return g.length>t?0:(Y(g,e),g.length-1)}function Kt(e){return parseInt(e)}var er=[];function tr(e,t,r){var n=r>0?r:C(e)+1,i=new Array(n),o=k(e,i,0,i.length);return t&&(i.length=o),i}Ee=i.InternalError=Pe(Error,\\\"InternalError\\\"),function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Se=e}(),Fe=i.BindingError=Pe(Error,\\\"BindingError\\\"),Je.prototype.isAliasOf=je,Je.prototype.clone=Ue,Je.prototype.delete=qe,Je.prototype.isDeleted=Ye,Je.prototype.deleteLater=Be,ht.prototype.getPointee=it,ht.prototype.destructor=ot,ht.prototype.argPackAdvance=8,ht.prototype.readValueFromPointer=we,ht.prototype.deleteObject=at,ht.prototype.fromWireType=dt,i.getInheritedInstanceCount=ct,i.getLiveInheritedInstances=ut,i.flushPendingDeletes=Ge,i.setDelayFunction=lt,vt=i.UnboundTypeError=Pe(Error,\\\"UnboundTypeError\\\"),i.count_emval_handles=Et,i.get_first_emval=xt,B.push({func:function(){ir()}});var rr,nr={__cxa_allocate_exception:function(e){return or(e+fe)+fe},__cxa_atexit:function(e,t){},__cxa_throw:function(e,t,r){throw new pe(e).init(t,r),\\\"uncaught_exception\\\"in de?de.uncaught_exceptions++:de.uncaught_exceptions=1,e},__localtime_r:function(e,t){return me(e,t)},__sys_ftruncate64:function(e,t,r,n){},__sys_getpid:function(){return 42},__sys_madvise1:function(e,t,r){return 0},__sys_mmap2:function(e,t,r,n,i,o){return function(e,t,r,n,i,o){var a;o<<=12;var s=!1;return 0!=(16&n)&&e%16384!=0?-28:0==(32&n)?-52:(a=dr(16384,t))?(sr(a,0,t),s=!0,a>>>=0,ge.mappings[a]={malloc:a,len:t,allocated:s,fd:i,prot:r,flags:n,offset:o},a):-48}(e,t,r,n,i,o)},__sys_mremap:function(e,t,r,n){return-48},__sys_munmap:function(e,t){return function(e,t){if(-1==(0|(e>>>=0))||0===t)return-28;var r=ge.mappings[e];return r?(t===r.len&&(ge.mappings[e]=null,r.allocated&&ar(r.malloc)),0):0}(e,t)},__sys_open:function(e,t,r){ge.varargs=r},__sys_unlink:function(e){},_embind_finalize_value_object:function(e){var t=ve[e];delete ve[e];var r=t.rawConstructor,n=t.rawDestructor,i=t.fields;$e([e],i.map((function(e){return e.getterReturnType})).concat(i.map((function(e){return e.setterArgumentType}))),(function(e){var o={};return i.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,c=t.getterContext,u=e[r+i.length],l=t.setter,_=t.setterContext;o[n]={read:function(e){return a.fromWireType(s(c,e))},write:function(e,t){var r=[];l(_,e,u.toWireType(r,t)),ye(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:function(e,t){for(var i in o)if(!(i in t))throw new TypeError('Missing field:  \\\"'+i+'\\\"');var a=r();for(i in o)o[i].write(a,t[i]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:we,destructorFunction:n}]}))},_embind_register_bool:function(e,t,r,n,i){var o=Ae(r);Re(e,{name:t=De(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=E;else if(2===r)n=$;else{if(4!==r)throw new TypeError(\\\"Unknown boolean type size: \\\"+t);n=S}return this.fromWireType(n[e>>>o])},destructorFunction:null})},_embind_register_class:function(e,t,r,n,i,o,a,s,c,u,l,_,f){l=De(l),o=gt(i,o),s&&(s=gt(a,s)),u&&(u=gt(c,u)),f=gt(_,f);var p=Oe(l);Qe(p,(function(){wt(\\\"Cannot construct \\\"+l+\\\" due to unbound types\\\",[n])})),$e([e,t,r],n?[n]:[],(function(t){var r,i;t=t[0],i=n?(r=t.registeredClass).instancePrototype:Je.prototype;var a=Ce(p,(function(){if(Object.getPrototypeOf(this)!==c)throw new Fe(\\\"Use 'new' to construct \\\"+l);if(void 0===_.constructor_body)throw new Fe(l+\\\" has no accessible constructor\\\");var e=_.constructor_body[arguments.length];if(void 0===e)throw new Fe(\\\"Tried to invoke ctor of \\\"+l+\\\" with invalid number of parameters (\\\"+arguments.length+\\\") - expected (\\\"+Object.keys(_.constructor_body).toString()+\\\") parameters instead!\\\");return e.apply(this,arguments)})),c=Object.create(i,{constructor:{value:a}});a.prototype=c;var _=new Ke(l,a,c,f,r,o,s,u),d=new ht(l,_,!0,!1,!1),h=new ht(l+\\\"*\\\",_,!1,!1,!1),m=new ht(l+\\\" const*\\\",_,!1,!0,!1);return Xe[e]={pointerType:h,constPointerType:m},mt(p,a),[d,h,m]}))},_embind_register_class_constructor:function(e,t,r,n,i,o){y(t>0);var a=bt(t,r);i=gt(n,i);var s=[o],c=[];$e([],[e],(function(e){var r=\\\"constructor \\\"+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Fe(\\\"Cannot register multiple constructors with identical number of parameters (\\\"+(t-1)+\\\") for class '\\\"+e.name+\\\"'! Overload resolution is currently only performed using the parameter count, not actual type info!\\\");return e.registeredClass.constructor_body[t-1]=function(){wt(\\\"Cannot construct \\\"+e.name+\\\" due to unbound types\\\",a)},$e([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&Me(r+\\\" called with \\\"+arguments.length+\\\" arguments, expected \\\"+(t-1)),c.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(c,arguments[e-1]);var o=i.apply(null,s);return ye(c),n[0].fromWireType(o)},[]})),[]}))},_embind_register_class_function:function(e,t,r,n,i,o,a,s){var c=bt(r,n);t=De(t),o=gt(i,o),$e([],[e],(function(e){var n=(e=e[0]).name+\\\".\\\"+t;function i(){wt(\\\"Cannot call \\\"+n+\\\" due to unbound types\\\",c)}s&&e.registeredClass.pureVirtualFunctions.push(t);var u=e.registeredClass.instancePrototype,l=u[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(i.argCount=r-2,i.className=e.name,u[t]=i):(Ze(u,t,n),u[t].overloadTable[r-2]=i),$e([],c,(function(i){var s=kt(n,i,e,o,a);return void 0===u[t].overloadTable?(s.argCount=r-2,u[t]=s):u[t].overloadTable[r-2]=s,[]})),[]}))},_embind_register_emval:function(e,t){Re(e,{name:t=De(t),fromWireType:function(e){var t=Ct[e].value;return Pt(e),t},toWireType:function(e,t){return $t(t)},argPackAdvance:8,readValueFromPointer:we,destructorFunction:null})},_embind_register_enum:function(e,t,r,n){var i=Ae(r);function o(){}t=De(t),o.values={},Re(e,{name:t,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:At(t,i,n),destructorFunction:null}),Qe(t,o)},_embind_register_enum_value:function(e,t,r){var n=St(e,\\\"enum\\\");t=De(t);var i=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Ce(n.name+\\\"_\\\"+t,(function(){}))}});i.values[r]=o,i[t]=o},_embind_register_float:function(e,t,r){var n=Ae(r);Re(e,{name:t=De(t),fromWireType:function(e){return e},toWireType:function(e,t){if(\\\"number\\\"!=typeof t&&\\\"boolean\\\"!=typeof t)throw new TypeError('Cannot convert \\\"'+Dt(t)+'\\\" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:Ft(t,n),destructorFunction:null})},_embind_register_function:function(e,t,r,n,i,o){var a=bt(t,r);e=De(e),i=gt(n,i),Qe(e,(function(){wt(\\\"Cannot call \\\"+e+\\\" due to unbound types\\\",a)}),t-1),$e([],a,(function(r){var n=[r[0],null].concat(r.slice(1));return mt(e,kt(e,n,null,i,o),t-1),[]}))},_embind_register_integer:function(e,t,r,n,i){t=De(t),-1===i&&(i=4294967295);var o=Ae(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var c=-1!=t.indexOf(\\\"unsigned\\\");Re(e,{name:t,fromWireType:a,toWireType:function(e,r){if(\\\"number\\\"!=typeof r&&\\\"boolean\\\"!=typeof r)throw new TypeError('Cannot convert \\\"'+Dt(r)+'\\\" to '+this.name);if(r<n||r>i)throw new TypeError('Passing a number \\\"'+Dt(r)+'\\\" from JS side to C/C++ side to an argument of type \\\"'+t+'\\\", which is outside the valid range ['+n+\\\", \\\"+i+\\\"]!\\\");return c?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:Mt(t,o,0!==n),destructorFunction:null})},_embind_register_memory_view:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=D,r=t[(e>>=2)>>>0],i=t[e+1>>>0];return new n(P,i,r)}Re(e,{name:r=De(r),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_smart_ptr:function(e,t,r,n,i,o,a,s,c,u,l,_){r=De(r),o=gt(i,o),s=gt(a,s),u=gt(c,u),_=gt(l,_),$e([e],[t],(function(e){return e=e[0],[new ht(r,e.registeredClass,!1,!1,!0,e,n,o,s,u,_)]}))},_embind_register_std_string:function(e,t){var r=\\\"std::string\\\"===(t=De(t));Re(e,{name:t,fromWireType:function(e){var t,n=D[e>>>2];if(r)for(var i=e+4,o=0;o<=n;++o){var a=e+4+o;if(o==n||0==x[a>>>0]){var s=T(i,a-i);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),i=a+1}}else{var c=new Array(n);for(o=0;o<n;++o)c[o]=String.fromCharCode(x[e+4+o>>>0]);t=c.join(\\\"\\\")}return ar(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n=\\\"string\\\"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Me(\\\"Cannot pass non-string to std::string\\\");var i=(r&&n?function(){return C(t)}:function(){return t.length})(),o=or(4+i+1);if(D[(o>>>=0)>>>2]=i,r&&n)O(t,o+4,i+1);else if(n)for(var a=0;a<i;++a){var s=t.charCodeAt(a);s>255&&(ar(o),Me(\\\"String has UTF-16 code units that do not fit in 8 bits\\\")),x[o+4+a>>>0]=s}else for(a=0;a<i;++a)x[o+4+a>>>0]=t[a];return null!==e&&e.push(ar,o),o},argPackAdvance:8,readValueFromPointer:we,destructorFunction:function(e){ar(e)}})},_embind_register_std_wstring:function(e,t,r){var n,i,o,a,s;r=De(r),2===t?(n=j,i=I,a=V,o=function(){return A},s=1):4===t&&(n=N,i=W,a=z,o=function(){return D},s=2),Re(e,{name:r,fromWireType:function(e){for(var r,i=D[e>>>2],a=o(),c=e+4,u=0;u<=i;++u){var l=e+4+u*t;if(u==i||0==a[l>>>s]){var _=n(c,l-c);void 0===r?r=_:(r+=String.fromCharCode(0),r+=_),c=l+t}}return ar(e),r},toWireType:function(e,n){\\\"string\\\"!=typeof n&&Me(\\\"Cannot pass non-string to C++ string type \\\"+r);var o=a(n),c=or(4+o+t);return D[(c>>>=0)>>>2]=o>>s,i(n,c+4,o+t),null!==e&&e.push(ar,c),c},argPackAdvance:8,readValueFromPointer:we,destructorFunction:function(e){ar(e)}})},_embind_register_value_object:function(e,t,r,n,i,o){ve[e]={name:De(t),rawConstructor:gt(r,n),rawDestructor:gt(i,o),fields:[]}},_embind_register_value_object_field:function(e,t,r,n,i,o,a,s,c,u){ve[e].fields.push({fieldName:De(t),getterReturnType:r,getter:gt(n,i),getterContext:o,setterArgumentType:a,setter:gt(s,c),setterContext:u})},_embind_register_void:function(e,t){Re(e,{isVoid:!0,name:t=De(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emval_as:function(e,t,r){e=Rt(e),t=St(t,\\\"emval::as\\\");var n=[],i=$t(n);return S[r>>>2]=i,t.toWireType(n,e)},_emval_call:function(e,t,r,n){e=Rt(e);for(var i=jt(t,r),o=new Array(t),a=0;a<t;++a){var s=i[a];o[a]=s.readValueFromPointer(n),n+=s.argPackAdvance}return $t(e.apply(void 0,o))},_emval_call_method:function(e,t,r,n,i){return(e=Nt[e])(t=Rt(t),r=Vt(r),function(e){var t=[];return S[e>>>2]=$t(t),t}(n),i)},_emval_call_void_method:function(e,t,r,n){(e=Nt[e])(t=Rt(t),r=Vt(r),null,n)},_emval_decref:Pt,_emval_get_global:function(e){return 0===e?$t(Wt()):(e=Vt(e),$t(Wt()[e]))},_emval_get_method_caller:function(e,t){for(var r=jt(e,t),n=r[0],i=n.name+\\\"_$\\\"+r.slice(1).map((function(e){return e.name})).join(\\\"_\\\")+\\\"$\\\",o=[\\\"retType\\\"],a=[n],s=\\\"\\\",c=0;c<e-1;++c)s+=(0!==c?\\\", \\\":\\\"\\\")+\\\"arg\\\"+c,o.push(\\\"argType\\\"+c),a.push(r[1+c]);var u=\\\"return function \\\"+Oe(\\\"methodCaller_\\\"+i)+\\\"(handle, name, destructors, args) {\\\\n\\\",l=0;for(c=0;c<e-1;++c)u+=\\\"    var arg\\\"+c+\\\" = argType\\\"+c+\\\".readValueFromPointer(args\\\"+(l?\\\"+\\\"+l:\\\"\\\")+\\\");\\\\n\\\",l+=r[c+1].argPackAdvance;for(u+=\\\"    var rv = handle[name](\\\"+s+\\\");\\\\n\\\",c=0;c<e-1;++c)r[c+1].deleteObject&&(u+=\\\"    argType\\\"+c+\\\".deleteObject(arg\\\"+c+\\\");\\\\n\\\");n.isVoid||(u+=\\\"    return retType.toWireType(destructors, rv);\\\\n\\\"),u+=\\\"};\\\\n\\\",o.push(u);var _,f,p=Tt(Function,o).apply(null,a);return _=p,f=Nt.length,Nt.push(_),f},_emval_get_module_property:function(e){return e=Vt(e),$t(i[e])},_emval_get_property:function(e,t){return $t((e=Rt(e))[t=Rt(t)])},_emval_incref:function(e){e>4&&(Ct[e].refcount+=1)},_emval_instanceof:function(e,t){return(e=Rt(e))instanceof(t=Rt(t))},_emval_new:function(e,t,r,n){e=Rt(e);var o=Ut[t];return o||(o=function(e){for(var t=\\\"\\\",r=0;r<e;++r)t+=(0!==r?\\\", \\\":\\\"\\\")+\\\"arg\\\"+r;var n=\\\"return function emval_allocator_\\\"+e+\\\"(constructor, argTypes, args) {\\\\n\\\";for(r=0;r<e;++r)n+=\\\"var argType\\\"+r+\\\" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + \\\"+r+'], \\\"parameter '+r+'\\\");\\\\nvar arg'+r+\\\" = argType\\\"+r+\\\".readValueFromPointer(args);\\\\nargs += argType\\\"+r+\\\"['argPackAdvance'];\\\\n\\\";return n+=\\\"var obj = new constructor(\\\"+t+\\\");\\\\nreturn __emval_register(obj);\\\\n}\\\\n\\\",new Function(\\\"requireRegisteredType\\\",\\\"Module\\\",\\\"__emval_register\\\",n)(St,i,$t)}(t),Ut[t]=o),o(e,r,n)},_emval_new_array:function(){return $t([])},_emval_new_cstring:function(e){return $t(Vt(e))},_emval_new_object:function(){return $t({})},_emval_run_destructors:function(e){ye(Ct[e].value),Pt(e)},_emval_set_property:function(e,t,r){e=Rt(e),t=Rt(t),r=Rt(r),e[t]=r},_emval_take_value:function(e,t){return $t((e=St(e,\\\"_emval_take_value\\\")).readValueFromPointer(t))},_emval_typeof:function(e){return $t(typeof(e=Rt(e)))},abort:function(){ee()},clock_gettime:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return qt(28),-1;r=zt()}return S[t>>>2]=r/1e3|0,S[t+4>>>2]=r%1e3*1e3*1e3|0,0},emscripten_asm_const_int:function(e,t,r){var n=function(e,t){var r;for(er.length=0,t>>=2;r=x[e++>>>0];){var n=r<105;n&&1&t&&t++,er.push(n?M[t++>>>1]:S[t>>>0]),++t}return er}(t,r);return oe[e].apply(null,n)},emscripten_memcpy_big:function(e,t,r){x.copyWithin(e>>>0,t>>>0,t+r>>>0)},emscripten_resize_heap:function(e){e>>>=0;var t=x.length,r=4294967296;if(e>r)return!1;for(var n,i,o=1;o<=4;o*=2){var a=t*(1+.2/o);if(a=Math.min(a,e+100663296),Yt(Math.min(r,((n=Math.max(16777216,e,a))%(i=65536)>0&&(n+=i-n%i),n))))return!0}return!1},environ_get:function(e,t){var r=0;return Lt().forEach((function(n,i){var o=t+r;S[e+4*i>>>2]=o,function(e,t,r){for(var n=0;n<e.length;++n)E[t++>>>0]=e.charCodeAt(n);r||(E[t>>>0]=0)}(n,o),r+=n.length+1})),0},environ_sizes_get:function(e,t){var r=Lt();S[e>>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),S[t>>>2]=n,0},fd_close:function(e){return 0},fd_read:function(e,t,r,n){var i=ge.getStreamFromFD(e),o=ge.doReadv(i,t,r);return S[n>>>2]=o,0},fd_seek:function(e,t,r,n){},fd_write:function(e,t,r,n){for(var i=0,o=0;o<r;o++){for(var a=S[t+8*o>>>2],s=S[t+(8*o+4)>>>2],c=0;c<s;c++)ge.printChar(e,x[a+c>>>0]);i+=s}return S[n>>>2]=i,0},memory:d,pthread_create:function(){return 6},pthread_join:function(){},strftime:Qt,strftime_l:function(e,t,r,n){return Qt(e,t,r,n)},strptime:function(e,t,r){for(var n=T(t),i=\\\"\\\\\\\\!@#$^&*()+=-[]/{}|:<>?,.\\\",o=0,a=i.length;o<a;++o)n=n.replace(new RegExp(\\\"\\\\\\\\\\\"+i[o],\\\"g\\\"),\\\"\\\\\\\\\\\"+i[o]);var s={\\\"%A\\\":\\\"%a\\\",\\\"%B\\\":\\\"%b\\\",\\\"%c\\\":\\\"%a %b %d %H:%M:%S %Y\\\",\\\"%D\\\":\\\"%m\\\\\\\\/%d\\\\\\\\/%y\\\",\\\"%e\\\":\\\"%d\\\",\\\"%F\\\":\\\"%Y-%m-%d\\\",\\\"%h\\\":\\\"%b\\\",\\\"%R\\\":\\\"%H\\\\\\\\:%M\\\",\\\"%r\\\":\\\"%I\\\\\\\\:%M\\\\\\\\:%S\\\\\\\\s%p\\\",\\\"%T\\\":\\\"%H\\\\\\\\:%M\\\\\\\\:%S\\\",\\\"%x\\\":\\\"%m\\\\\\\\/%d\\\\\\\\/(?:%y|%Y)\\\",\\\"%X\\\":\\\"%H\\\\\\\\:%M\\\\\\\\:%S\\\"};for(var c in s)n=n.replace(c,s[c]);var u={\\\"%a\\\":\\\"(?:Sun(?:day)?)|(?:Mon(?:day)?)|(?:Tue(?:sday)?)|(?:Wed(?:nesday)?)|(?:Thu(?:rsday)?)|(?:Fri(?:day)?)|(?:Sat(?:urday)?)\\\",\\\"%b\\\":\\\"(?:Jan(?:uary)?)|(?:Feb(?:ruary)?)|(?:Mar(?:ch)?)|(?:Apr(?:il)?)|May|(?:Jun(?:e)?)|(?:Jul(?:y)?)|(?:Aug(?:ust)?)|(?:Sep(?:tember)?)|(?:Oct(?:ober)?)|(?:Nov(?:ember)?)|(?:Dec(?:ember)?)\\\",\\\"%C\\\":\\\"\\\\\\\\d\\\\\\\\d\\\",\\\"%d\\\":\\\"0[1-9]|[1-9](?!\\\\\\\\d)|1\\\\\\\\d|2\\\\\\\\d|30|31\\\",\\\"%H\\\":\\\"\\\\\\\\d(?!\\\\\\\\d)|[0,1]\\\\\\\\d|20|21|22|23\\\",\\\"%I\\\":\\\"\\\\\\\\d(?!\\\\\\\\d)|0\\\\\\\\d|10|11|12\\\",\\\"%j\\\":\\\"00[1-9]|0?[1-9](?!\\\\\\\\d)|0?[1-9]\\\\\\\\d(?!\\\\\\\\d)|[1,2]\\\\\\\\d\\\\\\\\d|3[0-6]\\\\\\\\d\\\",\\\"%m\\\":\\\"0[1-9]|[1-9](?!\\\\\\\\d)|10|11|12\\\",\\\"%M\\\":\\\"0\\\\\\\\d|\\\\\\\\d(?!\\\\\\\\d)|[1-5]\\\\\\\\d\\\",\\\"%n\\\":\\\"\\\\\\\\s\\\",\\\"%p\\\":\\\"AM|am|PM|pm|A\\\\\\\\.M\\\\\\\\.|a\\\\\\\\.m\\\\\\\\.|P\\\\\\\\.M\\\\\\\\.|p\\\\\\\\.m\\\\\\\\.\\\",\\\"%S\\\":\\\"0\\\\\\\\d|\\\\\\\\d(?!\\\\\\\\d)|[1-5]\\\\\\\\d|60\\\",\\\"%U\\\":\\\"0\\\\\\\\d|\\\\\\\\d(?!\\\\\\\\d)|[1-4]\\\\\\\\d|50|51|52|53\\\",\\\"%W\\\":\\\"0\\\\\\\\d|\\\\\\\\d(?!\\\\\\\\d)|[1-4]\\\\\\\\d|50|51|52|53\\\",\\\"%w\\\":\\\"[0-6]\\\",\\\"%y\\\":\\\"\\\\\\\\d\\\\\\\\d\\\",\\\"%Y\\\":\\\"\\\\\\\\d\\\\\\\\d\\\\\\\\d\\\\\\\\d\\\",\\\"%%\\\":\\\"%\\\",\\\"%t\\\":\\\"\\\\\\\\s\\\"};for(var l in u)n=n.replace(l,\\\"(\\\"+l+u[l]+\\\")\\\");var _=[];for(o=n.indexOf(\\\"%\\\");o>=0;o=n.indexOf(\\\"%\\\"))_.push(n[o+1]),n=n.replace(new RegExp(\\\"\\\\\\\\%\\\"+n[o+1],\\\"g\\\"),\\\"\\\");var f=new RegExp(\\\"^\\\"+n,\\\"i\\\").exec(T(e));if(f){var p,d=function(){function e(e,t,r){return\\\"number\\\"!=typeof e||isNaN(e)?t:e>=t?e<=r?e:r:t}return{year:e(S[r+20>>>2]+1900,1970,9999),month:e(S[r+16>>>2],0,11),day:e(S[r+12>>>2],1,31),hour:e(S[r+8>>>2],0,23),min:e(S[r+4>>>2],0,59),sec:e(S[r>>>2],0,59)}}(),h=function(e){var t=_.indexOf(e);if(t>=0)return f[t+1]};if((p=h(\\\"S\\\"))&&(d.sec=Kt(p)),(p=h(\\\"M\\\"))&&(d.min=Kt(p)),p=h(\\\"H\\\"))d.hour=Kt(p);else if(p=h(\\\"I\\\")){var m=Kt(p);(p=h(\\\"p\\\"))&&(m+=\\\"P\\\"===p.toUpperCase()[0]?12:0),d.hour=m}if(p=h(\\\"Y\\\"))d.year=Kt(p);else if(p=h(\\\"y\\\")){var g=Kt(p);(p=h(\\\"C\\\"))?g+=100*Kt(p):g+=g<69?2e3:1900,d.year=g}if((p=h(\\\"m\\\"))?d.month=Kt(p)-1:(p=h(\\\"b\\\"))&&(d.month={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[p.substring(0,3).toUpperCase()]||0),p=h(\\\"d\\\"))d.day=Kt(p);else if(p=h(\\\"j\\\"))for(var v=Kt(p),y=Gt(d.year),w=0;w<12;++w){var b=Bt(y?Jt:Xt,w-1);v<=b+(y?Jt:Xt)[w]&&(d.day=v-b)}else if(p=h(\\\"a\\\")){var k=p.substring(0,3).toUpperCase();if(p=h(\\\"U\\\")){var O={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6}[k],C=Kt(p);E=0===(P=new Date(d.year,0,1)).getDay()?Zt(P,O+7*(C-1)):Zt(P,7-P.getDay()+O+7*(C-1)),d.day=E.getDate(),d.month=E.getMonth()}else if(p=h(\\\"W\\\")){var P,E;O={MON:0,TUE:1,WED:2,THU:3,FRI:4,SAT:5,SUN:6}[k],C=Kt(p),E=1===(P=new Date(d.year,0,1)).getDay()?Zt(P,O+7*(C-1)):Zt(P,7-P.getDay()+1+O+7*(C-1)),d.day=E.getDate(),d.month=E.getMonth()}}var x=new Date(d.year,d.month,d.day,d.hour,d.min,d.sec,0);return S[r>>>2]=x.getSeconds(),S[r+4>>>2]=x.getMinutes(),S[r+8>>>2]=x.getHours(),S[r+12>>>2]=x.getDate(),S[r+16>>>2]=x.getMonth(),S[r+20>>>2]=x.getFullYear()-1900,S[r+24>>>2]=x.getDay(),S[r+28>>>2]=Bt(Gt(x.getFullYear())?Jt:Xt,x.getMonth()-1)+x.getDate()-1,S[r+32>>>2]=0,e+tr(f[0]).length-1}return 0},sysconf:function(e){switch(e){case 30:return 16384;case 85:return 262144;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return\\\"object\\\"==typeof navigator&&navigator.hardwareConcurrency||1}return qt(28),-1}},ir=(function(){var e={env:nr,wasi_snapshot_preview1:nr};function t(e,t){var r=e.exports;i.asm=r,h=i.asm.__indirect_function_table,function(e){if(Z--,i.monitorRunDependencies&&i.monitorRunDependencies(Z),0==Z&&(null!==Q&&(clearInterval(Q),Q=null),K)){var t=K;K=null,t()}}()}function r(e){t(e.instance)}function n(t){return(f||\\\"function\\\"!=typeof fetch?Promise.resolve().then(ie):fetch(ne,{credentials:\\\"same-origin\\\"}).then((function(e){if(!e.ok)throw\\\"failed to load wasm binary file at '\\\"+ne+\\\"'\\\";return e.arrayBuffer()})).catch((function(){return ie()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){g(\\\"failed to asynchronously prepare wasm: \\\"+e),ee(e)}))}if(Z++,i.monitorRunDependencies&&i.monitorRunDependencies(Z),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return g(\\\"Module.instantiateWasm callback failed with error: \\\"+e),!1}!function(){if(f||\\\"function\\\"!=typeof WebAssembly.instantiateStreaming||te(ne)||\\\"function\\\"!=typeof fetch)return n(r);fetch(ne,{credentials:\\\"same-origin\\\"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return g(\\\"wasm streaming compile failed: \\\"+e),g(\\\"falling back to ArrayBuffer instantiation\\\"),n(r)}))}))}()}(),i.___wasm_call_ctors=function(){return(ir=i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)}),or=i._malloc=function(){return(or=i._malloc=i.asm.malloc).apply(null,arguments)},ar=i._free=function(){return(ar=i._free=i.asm.free).apply(null,arguments)},sr=(i._main=function(){return(i._main=i.asm.main).apply(null,arguments)},i._memset=function(){return(sr=i._memset=i.asm.memset).apply(null,arguments)}),cr=i.___errno_location=function(){return(cr=i.___errno_location=i.asm.__errno_location).apply(null,arguments)},ur=i.___getTypeName=function(){return(ur=i.___getTypeName=i.asm.__getTypeName).apply(null,arguments)},lr=(i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.__embind_register_native_and_builtin_types).apply(null,arguments)},i._htonl=function(){return(i._htonl=i.asm.htonl).apply(null,arguments)},i._htons=function(){return(i._htons=i.asm.htons).apply(null,arguments)},i._ntohs=function(){return(i._ntohs=i.asm.ntohs).apply(null,arguments)},i.__get_tzname=function(){return(lr=i.__get_tzname=i.asm._get_tzname).apply(null,arguments)}),_r=i.__get_daylight=function(){return(_r=i.__get_daylight=i.asm._get_daylight).apply(null,arguments)},fr=i.__get_timezone=function(){return(fr=i.__get_timezone=i.asm._get_timezone).apply(null,arguments)},pr=(i.stackSave=function(){return(i.stackSave=i.asm.stackSave).apply(null,arguments)},i.stackRestore=function(){return(i.stackRestore=i.asm.stackRestore).apply(null,arguments)},i.stackAlloc=function(){return(pr=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)}),dr=(i._setThrew=function(){return(i._setThrew=i.asm.setThrew).apply(null,arguments)},i._memalign=function(){return(dr=i._memalign=i.asm.memalign).apply(null,arguments)});function hr(e){this.name=\\\"ExitStatus\\\",this.message=\\\"Program terminated with exit(\\\"+e+\\\")\\\",this.status=e}function mr(e){var t,r=i._main,n=(e=e||[]).length+1,o=pr(4*(n+1));S[o>>>2]=q(u);for(var a=1;a<n;a++)S[(o>>2)+a>>>0]=q(e[a-1]);S[(o>>2)+n>>>0]=0;try{t=r(n,o),!0&&p&&0===t||(p||(i.onExit&&i.onExit(t),v=!0),l(t,new hr(t)))}catch(e){if(e instanceof hr)return;if(\\\"unwind\\\"==e)return void(p=!0);var s=e;e&&\\\"object\\\"==typeof e&&e.stack&&(s=[e,e.stack]),g(\\\"exception thrown: \\\"+s),l(1,e)}}function gr(e){function t(){rr||(rr=!0,i.calledRun=!0,v||(ae(B),ae(J),r(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),vr&&mr(e),function(){if(i.postRun)for(\\\"function\\\"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),X.unshift(e);var e;ae(X)}()))}e=e||c,Z>0||(function(){if(i.preRun)for(\\\"function\\\"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),G.unshift(e);var e;ae(G)}(),Z>0||(i.setStatus?(i.setStatus(\\\"Running...\\\"),setTimeout((function(){setTimeout((function(){i.setStatus(\\\"\\\")}),1),t()}),1)):t()))}if(i._emscripten_main_thread_process_queued_calls=function(){return(i._emscripten_main_thread_process_queued_calls=i.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},K=function e(){rr||gr(),rr||(K=e)},i.run=gr,i.preInit)for(\\\"function\\\"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();var vr=!0;return i.noInitialRun&&(vr=!1),p=!0,gr(),t.ready}),n={integer:\\\"integer\\\",float:\\\"float\\\",string:\\\"string\\\",boolean:\\\"boolean\\\",date:\\\"date\\\",datetime:\\\"datetime\\\",object:\\\"object\\\"},i={row_pivot:\\\"row_pivots\\\",\\\"row-pivot\\\":\\\"row_pivots\\\",\\\"row-pivots\\\":\\\"row_pivots\\\",col_pivot:\\\"column_pivots\\\",col_pivots:\\\"column_pivots\\\",column_pivot:\\\"column_pivots\\\",\\\"column-pivot\\\":\\\"column_pivots\\\",\\\"column-pivots\\\":\\\"column_pivots\\\",filters:\\\"filter\\\",sorts:\\\"sort\\\"},o=[\\\"viewport\\\",\\\"row_pivots\\\",\\\"column_pivots\\\",\\\"aggregates\\\",\\\"columns\\\",\\\"filter\\\",\\\"sort\\\",\\\"computed_columns\\\",\\\"expressions\\\",\\\"row_pivot_depth\\\",\\\"filter_op\\\"],a=[\\\"any\\\",\\\"avg\\\",\\\"abs sum\\\",\\\"count\\\",\\\"distinct count\\\",\\\"dominant\\\",\\\"first by index\\\",\\\"last by index\\\",\\\"last\\\",\\\"high\\\",\\\"join\\\",\\\"low\\\",\\\"mean\\\",\\\"median\\\",\\\"pct sum parent\\\",\\\"pct sum grand total\\\",\\\"sum\\\",\\\"sum abs\\\",\\\"sum not null\\\",\\\"unique\\\"],s=[\\\"any\\\",\\\"count\\\",\\\"distinct count\\\",\\\"distinct leaf\\\",\\\"dominant\\\",\\\"first by index\\\",\\\"join\\\",\\\"last by index\\\",\\\"last\\\",\\\"unique\\\"],c=[\\\"none\\\",\\\"asc\\\",\\\"desc\\\",\\\"col asc\\\",\\\"col desc\\\",\\\"asc abs\\\",\\\"desc abs\\\",\\\"col asc abs\\\",\\\"col desc abs\\\"],u=[2,0,1,0,1,3,4,3,4],l={string:s,float:a,integer:a,boolean:[\\\"any\\\",\\\"count\\\",\\\"distinct count\\\",\\\"distinct leaf\\\",\\\"dominant\\\",\\\"first by index\\\",\\\"last by index\\\",\\\"last\\\",\\\"unique\\\"],datetime:s,date:s},_={lessThan:\\\"<\\\",greaterThan:\\\">\\\",equals:\\\"==\\\",lessThanOrEquals:\\\"<=\\\",greaterThanOrEquals:\\\">=\\\",doesNotEqual:\\\"!=\\\",isNull:\\\"is null\\\",isNotNull:\\\"is not null\\\",isIn:\\\"in\\\",isNotIn:\\\"not in\\\",contains:\\\"contains\\\",bitwiseAnd:\\\"&\\\",bitwiseOr:\\\"|\\\",and:\\\"and\\\",or:\\\"or\\\",beginsWith:\\\"begins with\\\",endsWith:\\\"ends with\\\"},f=[_.bitwiseAnd,_.bitwiseOr,_.equals,_.doesNotEqual,_.or,_.and,_.isNull,_.isNotNull],p=[_.lessThan,_.greaterThan,_.equals,_.lessThanOrEquals,_.greaterThanOrEquals,_.doesNotEqual,_.isNull,_.isNotNull],d=[_.equals,_.contains,_.doesNotEqual,_.isIn,_.isNotIn,_.beginsWith,_.endsWith,_.isNull,_.isNotNull],h=[_.lessThan,_.greaterThan,_.equals,_.lessThanOrEquals,_.greaterThanOrEquals,_.doesNotEqual,_.isNull,_.isNotNull],m=\\\"|\\\",g={string:d,float:p,integer:p,boolean:f,datetime:h,date:h};var v=__webpack_require__(206);function y(e){return e>=1&&e<=8?\\\"integer\\\":19===e?\\\"string\\\":10===e||9===e?\\\"float\\\":11===e?\\\"boolean\\\":12===e?\\\"datetime\\\":13===e?\\\"date\\\":void console.warn(`Unknown type for value ${e} with JS type ${typeof e}`)}function w(e){let t=e;do{for(const r of Object.getOwnPropertyNames(t)){const t=e[r];\\\"constructor\\\"!==r&&\\\"function\\\"==typeof t&&(e[r]=t.bind(e))}}while(t=t!==Object&&Object.getPrototypeOf(t))}__webpack_require__(36);String.prototype.includes||(String.prototype.includes=function(e,t){return\\\"number\\\"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,\\\"includes\\\",{value:function(e,t){if(null==this)throw new TypeError('\\\"this\\\" is null or not defined');var r=Object(this),n=r.length>>>0;if(0===n)return!1;var i,o,a=0|t,s=Math.max(a>=0?a:n-Math.abs(a),0);for(;s<n;){if((i=r[s])===(o=e)||\\\"number\\\"==typeof i&&\\\"number\\\"==typeof o&&isNaN(i)&&isNaN(o))return!0;s++}return!1}});class b{constructor(){this.data_formats={row:0,column:1,schema:2},this.format=void 0,this.data=void 0,this.names=void 0,this.types=void 0,this.row_count=void 0}is_format(e){if(Array.isArray(e))return this.data_formats.row;if(Array.isArray(e[Object.keys(e)[0]]))return this.data_formats.column;if(\\\"string\\\"==typeof e[Object.keys(e)[0]]||\\\"function\\\"==typeof e[Object.keys(e)[0]])return this.data_formats.schema;throw`Could not determine data format for ${JSON.stringify(e)}, with JS typeof ${typeof e}`}count_rows(e){return this.format===this.data_formats.row?e.length:this.format===this.data_formats.column?e[Object.keys(e)[0]].length:0}get_format(){return this.format}get(e,t){let r;if(this.format===this.data_formats.row){let n=this.data[t];n.hasOwnProperty(e)&&(r=n[e])}else if(this.format===this.data_formats.column)this.data.hasOwnProperty(e)&&(r=this.data[e][t]);else{if(this.format!==this.data_formats.schema)throw`Could not get() from dataset - ${this.data} is poorly formatted.`;r=void 0}return r}marshal(e,t,r){const n=this.names[e];let i=null===(o=this.get(n,t))||\\\"null\\\"===o?null:void 0===o||\\\"undefined\\\"===o?void 0:o;var o;if(null===i)return null;if(void 0!==i){switch(y(r.value)){case\\\"float\\\":case\\\"integer\\\":i=Number(i);break;case\\\"boolean\\\":i=\\\"string\\\"==typeof i?\\\"true\\\"===i.toLowerCase():!!i;break;case\\\"datetime\\\":case\\\"date\\\":break;default:i+=\\\"\\\"}return i}}clean(){this.names=void 0,this.types=void 0}init(e){this.data=e,this.format=this.is_format(this.data),this.row_count=this.count_rows(this.data);const t={};if(this.format===this.data_formats.row)e.length>0?this.names=Object.keys(e[0]):this.clean.names=[];else if(this.format===this.data_formats.column)this.names=Object.keys(e);else{if(this.format!==this.data_formats.schema)throw`Could not initialize - failed to determine format for ${e}`;this.names=Object.keys(e);for(const r of this.names){const n=(0,v.get_type_config)(e[r]);n.type&&(console.debug(`Converting \\\"${e[r]}\\\" to \\\"${n.type}\\\"`),t[r]=e[r],e[r]=n.type)}}return t}}const T=function(e){let t=[];for(let r=0;r<e.size();r++){let n=e.get(r);t.push(n)}return e.delete(),t},k=function(e){let t={},r=e.keys();for(let n=0;n<r.size();n++){let i=r.get(n);t[i]=e.get(i)}return e.delete(),r.delete(),t},O=function(e,t){for(const r of t)e.push_back(r);return e};var C=__webpack_require__(152);const P={initDataValue:()=>[],initRowValue:()=>({}),initColumnValue:(e,t,r)=>t[r]=[],setColumnValue:(e,t,r,n)=>t[r]=n,addColumnValue:(e,t,r,n)=>t[r].unshift(n),addRow:(e,t)=>e.push(t),formatData:e=>e,slice:(e,t)=>e.slice(t)},E={jsonFormatter:P,jsonTableFormatter:{initDataValue:()=>new Object,initRowValue:()=>{},setColumnValue:(e,t,r,n)=>{e[r]=e[r]||[],e[r].push(n)},addColumnValue:(e,t,r,n)=>{e[r]=e[r]||[],e[r][e[r].length-1].unshift(n)},initColumnValue:(e,t,r)=>{e[r]=e[r]||[],e[r].push([])},addRow:()=>{},formatData:e=>e,slice:(e,t)=>{let r={};for(let n in e)r[n]=e[n].slice(t);return r}},csvFormatter:Object.assign({},P,{addColumnValue:(e,t,r,n)=>t[r.split(\\\"|\\\").join(\\\",\\\")].unshift(n),setColumnValue:(e,t,r,n)=>t[r.split(\\\"|\\\").join(\\\",\\\")]=n,formatData:function(e,{delimiter:t=\\\",\\\"}={}){if(0===e.length)return\\\"\\\";const r=function(e){if(null===e)return\\\"\\\";switch(typeof e){case\\\"object\\\":case\\\"string\\\":return e.indexOf(t)>-1?`\\\"${e.replace(/\\\\\\\"/g,'\\\"\\\"')}\\\"`:e.toString();case\\\"number\\\":return e;case\\\"boolean\\\":return e.toString()}},n=Object.keys(e[0]);let i=n.map(r).join(t);for(let o=0;o<e.length;o++)i+=\\\"\\\\r\\\\n\\\"+n.map((t=>r(e[o][t]))).join(t);return i}})};void 0===__webpack_require__.g.performance&&(__webpack_require__.g.performance={now:Date.now}),\\\"undefined\\\"!=typeof self&&void 0===self.performance&&(self.performance={now:Date.now});const x=new Set;function $(e){let r=e,n=new b;const a=[\\\"zero\\\",\\\"one\\\",\\\"two\\\"];let s={};function c(e){const t=s[e];t&&(t._process(),u(e))}function u(e){delete s[e]}function l(e,t,n,i,o,a,u,l,_){n||(n=\\\"\\\"),i||(i=4294967295);const f=(t=r.make_table(t,e,i,n,o,a,u,l,_)).get_pool(),p=t.get_id();return a||o==r.t_op.OP_DELETE?function(e,t){s[t]||(s[t]=e,setTimeout((()=>c(t))))}(f,p):f._process(),t}function _(e,t,n,i,o){this.name=o,this._View=void 0,this.table=e,this.config=n||{},this.view_config=i||new i,this.is_unit_context=\\\"\\\"===this.table.index&&0===t&&0===this.view_config.row_pivots.length&&0===this.view_config.column_pivots.length&&0===this.view_config.filter.length&&0===this.view_config.sort.length&&0===this.view_config.expressions.length,this.is_unit_context?this._View=r.make_view_unit(e._Table,o,m,this.view_config,null):0===t?this._View=r.make_view_zero(e._Table,o,m,this.view_config,null):1===t?this._View=r.make_view_one(e._Table,o,m,this.view_config,null):2===t&&(this._View=r.make_view_two(e._Table,o,m,this.view_config,null)),this.ctx=this._View.get_context(),this.column_only=this._View.is_column_only(),this.update_callbacks=this.table.update_callbacks,this.overridden_types=this.table.overridden_types,this._delete_callbacks=[],w(this)}function f(e){let t=[];for(let n=0;n<e.size();n++){let i=e.get(n);t.push(r.scalar_to_val(i,!1,!0)),i.delete()}return e.delete(),t}_.prototype.get_config=function(){return JSON.parse(JSON.stringify(this.config))},_.prototype.delete=function(){u(this.table.get_id()),this._View.delete(),this.ctx.delete(),this.table.views.splice(this.table.views.indexOf(this),1),this.table=void 0;let e=0,t=0;for(;e<this.update_callbacks.length;){let r=this.update_callbacks[e];r.view!==this&&(this.update_callbacks[t++]=r),e++}this.update_callbacks.length=t,this._delete_callbacks.forEach((e=>e()))},_.prototype.sides=function(){return this._View.sides()},_.prototype._num_hidden=function(){let e=0;for(const t of this.config.sort)-1===this.config.columns.indexOf(t[0])&&e++;return e};const p=function(e){let t=[];for(let r=0;r<e.size();r++){let n=e.get(r);t.push(f(n))}return e.delete(),t};_.prototype.schema=function(e=!0){const t=k(this._View.schema());if(e)for(const e of Object.keys(t)){let r=e.split(m);r=r[r.length-1],this.overridden_types[r]&&(0,v.get_type_config)(this.overridden_types[r]).type===t[e]&&(t[e]=this.overridden_types[r])}return t},_.prototype.expression_schema=function(e=!0){const t=k(this._View.expression_schema());if(e)for(const e of Object.keys(t)){let r=e.split(m);r=r[r.length-1],this.overridden_types[r]&&(0,v.get_type_config)(this.overridden_types[r]).type===t[e]&&(t[e]=this.overridden_types[r])}return t},_.prototype._column_names=function(e=!1,t=0){return p(this._View.column_names(e,t)).map((e=>e.join(m)))},_.prototype.column_paths=function(){return p(this._View.column_paths()).map((e=>e.join(m)))},_.prototype.get_data_slice=function(e,t,n,i){if(this.is_unit_context)return r.get_data_slice_unit(this._View,e,t,n,i);{const o=this.sides();return r[`get_data_slice_${a[o]}`](this._View,e,t,n,i)}};const d=function(e){e=e||{};const t=this._View.num_columns()+(0===this.sides()?0:1),r=this._View.num_rows(),n=this._num_hidden(),i=this.sides()>0||this.column_only?1:0,o=this.config.viewport?this.config.viewport:{},a=e.start_row||(o.top?o.top:0),s=Math.min(r,void 0!==e.end_row?e.end_row:o.height?a+o.height:r),c=e.start_col||(o.left?o.left:0),u=Math.min(t,(void 0!==e.end_col?e.end_col+i:o.width?c+o.width:t)*(n+1));return e.start_row=Math.floor(a),e.end_row=Math.ceil(s),e.start_col=Math.floor(c),e.end_col=Math.ceil(u),e};_.prototype.get_min_max=function(e){if(this.is_unit_context)return r.get_min_max_unit(this._View,e);{const t=this.sides();return r[`get_min_max_${a[t]}`](this._View,e)}};const h=function(e,t){c(this.table.get_id());const n=(e=d.bind(this)(e)).start_row,i=e.end_row,o=e.start_col,s=e.end_col,u=this._num_hidden(),l=e.formatted,_=!!e.index,f=!!e.id,h=!!e.leaves_only,g=this.sides(),y=0!==g&&!this.column_only,w=a[g];let b;b=this.is_unit_context?r.get_from_data_slice_unit:r[`get_from_data_slice_${w}`];const T=this.get_data_slice(n,i,o,s),k=T.get_column_names(),O=p(k).map((e=>e.join(m))),C=this.schema();let P=t.initDataValue();for(let e=n;e<i;e++){let n=y?T.get_row_path(e):void 0;if(y&&h&&n.size()<this.config.row_pivots.length){n.delete();continue}let i=t.initRowValue();f&&t.initColumnValue(P,i,\\\"__ID__\\\");for(let a=o;a<s;a++){const s=O[a],c=C[s],_=(0,v.get_type_config)(c);if(a===o&&0!==g){if(!this.column_only){t.initColumnValue(P,i,\\\"__ROW_PATH__\\\");for(let e=0;e<n.size();e++){const o=n.get(e),a=r.scalar_to_val(o,!1,!1);o.delete(),t.addColumnValue(P,i,\\\"__ROW_PATH__\\\",a),f&&t.addColumnValue(P,i,\\\"__ID__\\\",a)}}}else{if((a-(g>0?1:0))%(this.config.columns.length+u)>=this.config.columns.length)continue;{let r=b(T,e,a);l&&null!=r&&(\\\"datetime\\\"!==c&&\\\"date\\\"!==c||(r=new Date(r),r=r.toLocaleString(\\\"en-us\\\",_.format))),t.setColumnValue(P,i,s,r)}}}if(_){const n=T.get_pkeys(e,0);t.initColumnValue(P,i,\\\"__INDEX__\\\");for(let e=0;e<n.size();e++){const o=n.get(e),a=r.scalar_to_val(o,!1,!1);o.delete(),t.addColumnValue(P,i,\\\"__INDEX__\\\",a)}n.delete()}if(f&&0===g){const n=T.get_pkeys(e,0);for(let e=0;e<n.size();e++){const o=n.get(e),a=r.scalar_to_val(o,!1,!1);o.delete(),t.addColumnValue(P,i,\\\"__ID__\\\",a)}n.delete()}n&&n.delete(),t.addRow(P,i)}return T.delete(),t.formatData(P,e.config)},g=function(e,t,r){const n=this.num_rows(),i=t.start_row||0,o=t.end_row||n;let a=this._column_names().indexOf(e);if(-1===a)return;let s,c;this.sides()>0&&a++,t.data_slice?s=t.data_slice.get_column_slice(a):(c=this.get_data_slice(i,o,a,a+1),s=c.get_slice());const u=r(s,this._View.get_column_dtype(a),a);return s.delete(),c&&c.delete(),u};function P(e,t){let r=0,n=0;for(;r<e.length;){const i=e[r];t(i,r,e)&&(e[n++]=i),r++}return e.length=n,e}function $(e){this.row_pivots=e.row_pivots||[],this.column_pivots=e.column_pivots||[],this.aggregates=e.aggregates||{},this.columns=e.columns,this.filter=e.filter||[],this.sort=e.sort||[],this.expressions=e.expressions||[],this.filter_op=e.filter_op||\\\"and\\\",this.row_pivot_depth=e.row_pivot_depth,this.column_pivot_depth=e.column_pivot_depth}function A(e,t,r,n){this._Table=e,this.gnode_id=this._Table.get_gnode().get_id(),this._Table.get_pool().set_update_delegate(this),this.name=Math.random()+\\\"\\\",this.initialized=!1,this.index=t,this.limit=r,this.update_callbacks=[],this._delete_callbacks=[],this.views=[],this.overridden_types=n,w(this)}function S(e){let t=[];const r={};for(let n of e){if(n.includes('\\\"\\\"')){console.error(`Skipping expression '${n}', as it cannot reference an empty column!`);continue}let e,i={},o={},a=0,s=n.replace(/\\\\/\\\\/(.+?)$/m,((t,r)=>(e=r.trim(),\\\"\\\")));e&&0!=e.length||(e=n),s=s.replace(/\\\\\\\"(.*?[^\\\\\\\\])\\\\\\\"/g,((e,t)=>{if(t=t.replace(/\\\\\\\\\\\"/g,'\\\"'),void 0===i[t]){let e=`COLUMN${a}`;i[t]=e,o[e]=t}return a++,i[t]})),s=s.replace(/'(.*?[^\\\\\\\\])'/g,(e=>`intern(${e})`)),s=s.replace(/bucket\\\\(.*?, (intern\\\\(\\\\'([smhDWMY])\\\\'\\\\))\\\\)/g,((e,t,r)=>`${e.substr(0,e.indexOf(t))}'${r}')`));const c=[e,n,s,o];if(void 0!==r[e]){t[r[e]]=c}else t.push(c),r[e]=t.length-1}return t}let D;_.prototype.to_columns=function(e){return h.call(this,e,E.jsonTableFormatter)},_.prototype.to_json=function(e){return h.call(this,e,E.jsonFormatter)},_.prototype.to_csv=function(e){return h.call(this,e,E.csvFormatter)},_.prototype.col_to_js_typed_array=function(e,t={}){const n=r.col_to_js_typed_array;return g.call(this,e,t,n)},_.prototype.to_arrow=function(e={}){c(this.table.get_id());const t=(e=d.bind(this)(e)).start_row,n=e.end_row,i=e.start_col,o=e.end_col,a=this.sides();return this.is_unit_context?r.to_arrow_unit(this._View,t,n,i,o):0===a?r.to_arrow_zero(this._View,t,n,i,o):1===a?r.to_arrow_one(this._View,t,n,i,o):2===a?r.to_arrow_two(this._View,t,n,i,o):void 0},_.prototype.num_rows=function(){return this._View.num_rows()},_.prototype.num_columns=function(){const e=this._View.num_columns(),t=this._num_hidden();return e-e/(this.config.columns.length+t)*t},_.prototype.get_row_expanded=function(e){return this._View.get_row_expanded(e)},_.prototype.expand=function(e){return this._View.expand(e,this.config.row_pivots.length)},_.prototype.collapse=function(e){return this._View.collapse(e)},_.prototype.set_depth=function(e){return this._View.set_depth(e,this.config.row_pivots.length)},_.prototype._get_step_delta=async function(){let e,t=this._View.get_step_delta(0,2147483647);if(0===t.cells.size())e=this.to_json();else{let r={};for(let e=0;e<t.cells.size();e++)r[t.cells.get(e).row]=!0;r=Object.keys(r);const n=r.map((e=>this.to_json({start_row:Number.parseInt(e),end_row:Number.parseInt(e)+1})));e=[].concat.apply([],n)}return t.cells.delete(),e},_.prototype._get_row_delta=async function(){if(this.is_unit_context)return r.get_row_delta_unit(this._View);{const e=this.sides();return r[`get_row_delta_${a[e]}`](this._View)}},_.prototype.on_update=function(e,{mode:t=\\\"none\\\"}={}){if(c(this.table.get_id()),-1===[\\\"none\\\",\\\"row\\\"].indexOf(t))throw new Error(`Invalid update mode \\\"${t}\\\" - valid modes are \\\"none\\\" and \\\"row\\\".`);\\\"row\\\"===t&&(this._View._get_deltas_enabled()||this._View._set_deltas_enabled(!0)),this.update_callbacks.push({view:this,orig_callback:e,callback:async(r,n)=>{void 0===n[r]&&(n[r]={});let i={port_id:r};\\\"row\\\"===t&&(void 0===n[r].row_delta&&(n[r].row_delta=await this._get_row_delta()),i.delta=n[r].row_delta),e(i)}})},_.prototype.remove_update=function(e){c(this.table.get_id());const t=this.update_callbacks.length;P(this.update_callbacks,(t=>t.orig_callback!==e)),console.assert(t>this.update_callbacks.length,'\\\"callback\\\" does not match a registered updater')},_.prototype.on_delete=function(e){this._delete_callbacks.push(e)},_.prototype.remove_delete=function(e){const t=this._delete_callbacks.length;P(this._delete_callbacks,(t=>t!==e)),console.assert(t>this._delete_callbacks.length,'\\\"callback\\\" does not match a registered delete callbacks')},$.prototype.get_row_pivots=function(){let e=r.make_string_vector();return O(e,this.row_pivots)},$.prototype.get_column_pivots=function(){let e=r.make_string_vector();return O(e,this.column_pivots)},$.prototype.get_columns=function(){let e=r.make_string_vector();return O(e,this.columns)},$.prototype.get_filter=function(){let e=r.make_2d_val_vector();for(let t of this.filter){let n=r.make_val_vector(),i=O(n,t);e.push_back(i)}return e},$.prototype.get_sort=function(){let e=r.make_2d_string_vector();for(let t of this.sort){let n=r.make_string_vector(),i=O(n,t);e.push_back(i)}return e},$.prototype.get_expressions=function(){let e=r.make_2d_val_vector();for(let t of this.expressions){let n=r.make_val_vector();for(let e of t)n.push_back(e);e.push_back(n)}return e},A.prototype.get_id=function(){return this._Table.get_id()},A.prototype.get_pool=function(){return this._Table.get_pool()},A.prototype.make_port=function(){return this._Table.make_port()},A.prototype.remove_port=function(){this._Table.remove_port()},A.prototype._update_callback=function(e){let t={};for(let r in this.update_callbacks)this.update_callbacks[r].callback(e,t)},A.prototype.get_index=function(){return this.index},A.prototype.get_limit=function(){return this.limit},A.prototype.clear=function(){u(this.get_id()),this._Table.reset_gnode(this.gnode_id)},A.prototype.replace=function(e){u(this.get_id()),this._Table.reset_gnode(this.gnode_id),this.update(e),c(this.get_id())},A.prototype.delete=function(){if(this.views.length>0)throw`Cannot delete Table as it still has ${this.views.length} registered View(s).`;u(this.get_id()),this._Table.unregister_gnode(this.gnode_id),this._Table.delete();for(const e of this._delete_callbacks)e()},A.prototype.on_delete=function(e){this._delete_callbacks.push(e)},A.prototype.remove_delete=function(e){const t=this._delete_callbacks.length;P(this._delete_callbacks,(t=>t!==e)),console.assert(t>this._delete_callbacks.length,'\\\"callback\\\" does not match a registered delete callbacks')},A.prototype.size=function(){return c(this._Table.get_id()),this._Table.size()},A.prototype.schema=function(e=!0){let t=this._Table.get_schema(),r=t.columns(),n=t.types(),i={};for(let t=0;t<r.size();t++){const o=r.get(t);\\\"psp_okey\\\"!==o&&(e&&this.overridden_types[o]?i[o]=this.overridden_types[o]:i[o]=y(n.get(t).value))}return t.delete(),r.delete(),n.delete(),i},A.prototype.validate_expressions=function(e,t=!0){const n={expression_schema:{},errors:{}};if(!e||0===e.length)return n;e=S(e);let i=r.make_2d_val_vector();for(let t of e){let e=r.make_val_vector();for(let r of t)e.push_back(r);i.push_back(e)}const o=r.validate_expressions(this._Table,i),a=o.get_expression_schema(),s=o.get_expression_errors(),c=a.keys();for(let e=0;e<c.size();e++){const r=c.get(e);let i=a.get(r);t&&this.overridden_types[r]&&(i=this.overridden_types[r]),n.expression_schema[r]=i}const u=s.keys();for(let e=0;e<u.size();e++){const t=u.get(e),r=s.get(t);n.errors[t]=r}return u.delete(),c.delete(),s.delete(),a.delete(),o.delete(),n},A.prototype.is_valid_filter=function(e){if(e[1]===F.FILTER_OPERATORS.isNull||e[1]===F.FILTER_OPERATORS.isNotNull)return!0;let t=e[2];if(null===t)return!1;const n=this.schema();return!n[e[0]]||\\\"date\\\"!==n[e[0]]&&\\\"datetime\\\"!==n[e[0]]?null!=t:r.is_valid_datetime(e[2])},A.prototype.view=function(e={}){c(this._Table.get_id());let t={};for(const r of Object.keys(e))if(i[r]){if(t[i[r]])throw new Error(`Duplicate configuration parameter \\\"${r}\\\"`);x.has(r)||(console.warn(`Deprecated: \\\"${r}\\\" config parameter, please use \\\"${i[r]}\\\" instead`),x.add(r)),t[i[r]]=e[r]}else if(\\\"aggregate\\\"===r){x.has(\\\"aggregate\\\")||(console.warn('Deprecated: \\\"aggregate\\\" config parameter has been replaced by \\\"aggregates\\\" and \\\"columns\\\"'),x.add(\\\"aggregate\\\")),t.aggregates={},t.columns=[];for(const r of e.aggregate)t.aggregates[r.column]=r.op,t.columns.push(r.column)}else{if(!(o.indexOf(r)>-1))throw new Error(`Unrecognized config parameter \\\"${r}\\\"`);t[r]=e[r]}t.row_pivots=t.row_pivots||[],t.column_pivots=t.column_pivots||[],t.aggregates=t.aggregates||{},t.filter=t.filter||[],t.sort=t.sort||[],t.expressions=t.expressions||[];const r=this.schema();if(t.expressions.length>0&&(t.expressions=S(t.expressions)),void 0===t.columns&&(t.columns=this.columns(),t.expressions.length>0))for(const e of t.expressions)t.columns.push(e[0]);if(t.filter.length>0)for(let e of t.filter){const t=r[e[0]];!(e[1]!==F.FILTER_OPERATORS.isNull&&e[1]!==F.FILTER_OPERATORS.isNotNull)||\\\"date\\\"!==t&&\\\"datetime\\\"!==t||(e[2]=new Date(e[2]))}let n,a=Math.random()+\\\"\\\";n=t.row_pivots.length>0||t.column_pivots.length>0?t.column_pivots&&t.column_pivots.length>0?2:1:0;let s=new _(this,n,t,new $(t),a);return this.views.push(s),s},A.prototype.update=function(e,t){let i;(t=t||{}).port_id=t.port_id||0;let o=this.columns(),a=this._Table.get_schema(),s=a.types(),c=!1,u=!1;if(i=n,e instanceof ArrayBuffer?(i=new Uint8Array(e),c=!0):\\\"string\\\"==typeof e?(\\\",\\\"===e[0]&&(e=\\\"_\\\"+e),u=!0,c=!0,i=e):(n.init(e),n.names=o.concat(n.names.filter((e=>\\\"__INDEX__\\\"===e))),n.types=T(s).slice(0,o.length),D&&D(n.row_count)),!c){if(0===i.row_count)return void console.warn(\\\"table.update called with no data - ignoring\\\");if(-1!=n.names.indexOf(\\\"__INDEX__\\\")){!!this.index?n.types.push(n.types[n.names.indexOf(this.index)]):n.types.push(r.t_dtype.DTYPE_INT32)}}try{const e=r.t_op.OP_INSERT;l(i,this._Table,this.index,this.limit,e,!0,c,u,t.port_id),this.initialized=!0}catch(e){console.error(`Update failed: ${e}`)}finally{a.delete()}},A.prototype.remove=function(e,t){if(!this.index)return void console.error(\\\"Cannot call `remove()` on a Table without a user-specified index.\\\");let i;(t=t||{}).port_id=t.port_id||0;let o=this.columns(),a=this._Table.get_schema(),s=a.types(),c=!1;(e=e.map((e=>({[this.index]:e}))))instanceof ArrayBuffer?(i=new Uint8Array(e),c=!0):(n.init(e),n.names=[this.index],n.types=[T(s)[o.indexOf(this.index)]],i=n);try{const e=r.t_op.OP_DELETE;l(i,this._Table,this.index,this.limit,e,!1,c,!1,t.port_id),this.initialized=!0}catch(e){console.error(\\\"Remove failed\\\",e)}finally{a.delete()}},A.prototype.columns=function(){let e=this._Table.get_schema(),t=e.columns(),r=[];for(let e=0;e<t.size();e++){let n=t.get(e);\\\"psp_okey\\\"!==n&&r.push(n)}return e.delete(),t.delete(),r},A.prototype.execute=function(e){e(this)};const F={__module__:r,Server:C.x,worker:function(){return this},initialize_profile_thread:function(){if(void 0===D){let e=0,t=performance.now();setTimeout((function r(){let n=performance.now();console.log(`${(1e3*e/(n-t)).toFixed(2)} msgs/sec`),e=0,t=n,setTimeout(r,5e3)}),5e3),D=function(t){e+=t},console.log(\\\"Profiling initialized\\\")}},memory_usage:function(){const e=performance.memory?JSON.parse(JSON.stringify(performance.memory,[\\\"totalJSHeapSize\\\",\\\"usedJSHeapSize\\\",\\\"jsHeapSizeLimit\\\"])):process.memoryUsage();return e.wasmHeap=r.HEAP8.length,e},table:function(e,t){let i;(t=t||{}).index=t.index||null,t.limit=t.limit||null;let o,a=!1,s={},c=!1;if(e instanceof ArrayBuffer||\\\"undefined\\\"!=typeof Buffer&&e instanceof Buffer?(i=new Uint8Array(e),a=!0):\\\"string\\\"==typeof e?(\\\",\\\"===e[0]&&(e=\\\"_\\\"+e),c=!0,a=!0,i=e):(n.clean(),s=n.init(e),i=n),t.index&&t.limit)throw`Cannot specify both index '${t.index}' and limit '${t.limit}'.`;try{const e=r.t_op.OP_INSERT;return o=l(i,void 0,t.index,t.limit,e,!1,a,c,0),new A(o,t.index,t.limit,s)}catch(e){throw o&&o.delete(),console.error(`Table initialization failed: ${e}`),e}}};for(let e of Object.keys(t))F[e]=t[e];class M extends C.x{constructor(e){super(e),self.addEventListener(\\\"message\\\",(e=>this.process(e.data)),!1)}post(e,t){self.postMessage(e,t)}init(e){if(\\\"undefined\\\"==typeof WebAssembly)throw new Error(\\\"WebAssembly not supported\\\");r({wasmBinary:e.buffer,wasmJSMethod:\\\"native-wasm\\\"}).then((t=>{r=t,super.init(e)}))}}return\\\"undefined\\\"!=typeof self&&self.addEventListener&&new M(F),F}let A;A=void 0!==__webpack_require__.g.document&&\\\"undefined\\\"!=typeof WebAssembly?__webpack_require__.g.perspective=$(r({wasmJSMethod:\\\"native-wasm\\\",printErr:e=>console.error(e),print:e=>console.log(e)})):__webpack_require__.g.perspective=$(r)})()})();\\n\", \"Worker\", undefined, undefined);\n}\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nimport {Client} from \"../api/client.js\";\n\n// Initiate a `ping` to the server every 30 seconds\nconst PING_TIMEOUT = 30000;\nexport class WebSocketClient extends Client {\n    constructor(ws) {\n        super();\n        this._ws = ws;\n        this._ws.binaryType = \"arraybuffer\";\n        this._full_binary;\n        this._total_chunk_length = 0;\n        this._pending_binary_length = 0;\n\n        this._ws.onopen = () => {\n            this.send({\n                id: -1,\n                cmd: \"init\"\n            });\n        };\n\n        const ping = () => {\n            this._ws.send(\"ping\");\n            setTimeout(ping, PING_TIMEOUT);\n        };\n\n        setTimeout(ping, PING_TIMEOUT);\n\n        this._ws.onmessage = msg => {\n            if (msg.data === \"pong\") {\n                return;\n            }\n\n            if (this._pending_binary) {\n                // Process a binary being sent by the server, which\n                // can decide how many chunks to send and the size of each\n                // chunk.\n                let binary_msg = msg.data;\n\n                this._full_binary.set(new Uint8Array(binary_msg), this._total_chunk_length);\n                this._total_chunk_length += binary_msg.byteLength;\n\n                // Use the total length of the binary from the pre-message\n                // to decide when to stop waiting for new chunks from the\n                // server.\n                if (this._total_chunk_length === this._pending_binary_length) {\n                    // Chunking is complete and the binary has been received\n                    // in full.\n                    binary_msg = this._full_binary.buffer;\n                } else {\n                    // Wait for another chunk.\n                    return;\n                }\n\n                let result = {\n                    data: {\n                        id: this._pending_binary,\n                        data: binary_msg\n                    }\n                };\n\n                // make sure on_update callbacks are called with a `port_id`\n                // AND the transferred binary.\n                if (this._pending_port_id !== undefined) {\n                    const new_data_with_port_id = {\n                        port_id: this._pending_port_id,\n                        delta: binary_msg\n                    };\n                    result.data.data = new_data_with_port_id;\n                }\n\n                // Send the joined message to the client for handling.\n                this._handle(result);\n\n                // Reset flags to end special message flow.\n                delete this._pending_binary;\n                delete this._pending_binary_length;\n                delete this._pending_port_id;\n\n                this._total_chunk_length = 0;\n                this._full_binary = null;\n            } else {\n                msg = JSON.parse(msg.data);\n\n                // If the message has `binary_length` set,the worker expects the\n                // next message to be a binary message. This sets the\n                // `_pending_binary` flag, which triggers a special handler for\n                // the ArrayBuffer containing binary data.\n                if (msg.binary_length) {\n                    this._pending_binary = msg.id;\n                    this._pending_binary_length = msg.binary_length;\n\n                    // Check whether the message also contains a `port_id`,\n                    // indicating that we are in an `on_update` callback and\n                    // the pending binary needs to be joined with the port_id\n                    // for on_update handlers to work properly.\n                    if (msg.data && msg.data.port_id !== undefined) {\n                        this._pending_port_id = msg.data.port_id;\n                    }\n\n                    // Create an empty ArrayBuffer to hold the binary, as it\n                    // will be sent in n >= 1 chunks.\n                    this._full_binary = new Uint8Array(this._pending_binary_length);\n                } else {\n                    this._handle({\n                        data: msg\n                    });\n                }\n            }\n        };\n    }\n\n    /**\n     * Send a message to the server, checking whether the arguments contain an\n     * ArrayBuffer.\n     *\n     * @param {Object} msg a message to send to the remote. If the `args`\n     * param contains an ArrayBuffer, two messages will be sent - a pre-message\n     * with the `binary_length` flag set to true, and a second message\n     * containing the ArrayBuffer. This allows for transport of metadata\n     * alongside an ArrayBuffer, and the pattern should be implemented by the\n     * receiver.\n     */\n    send(msg) {\n        if (msg.args && msg.args.length > 0 && msg.args[0] instanceof ArrayBuffer && msg.args[0].byteLength !== undefined) {\n            const pre_msg = msg;\n            msg.binary_length = msg.args[0].byteLength;\n            this._ws.send(JSON.stringify(pre_msg));\n            this._ws.send(msg.args[0]);\n            return;\n        }\n        this._ws.send(JSON.stringify(msg));\n    }\n\n    terminate() {\n        return new Promise(resolve => {\n            this._ws.onclose = resolve;\n            this._ws.close();\n        });\n    }\n}\n","\"use strict\";\n\n/* eslint-env browser */\n\n/* eslint-disable no-undef, no-use-before-define, new-cap */\nmodule.exports = function (content, workerConstructor, workerOptions, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // New API\n        blob = new window.Blob([content]);\n      } catch (e) {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n        blob = new BlobBuilder();\n        blob.append(content);\n        blob = blob.getBlob();\n      }\n\n      var URL = window.URL || window.webkitURL;\n      var objectURL = URL.createObjectURL(blob);\n      var worker = new window[workerConstructor](objectURL, workerOptions);\n      URL.revokeObjectURL(objectURL);\n      return worker;\n    } catch (e) {\n      return new window[workerConstructor](\"data:application/javascript,\".concat(encodeURIComponent(content)), workerOptions);\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error(\"Inline worker is not supported\");\n    }\n\n    return new window[workerConstructor](url, workerOptions);\n  }\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(74);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;"],"sourceRoot":""}