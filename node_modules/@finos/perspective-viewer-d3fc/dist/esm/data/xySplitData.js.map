{"version":3,"sources":["../../../src/js/data/xySplitData.js"],"names":["groupFromKey","xySplitData","settings","data","n_cols","mainValues","length","map","col","cols","Object","keys","filter","key","row","Array","i","crossValue","mainValue"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAQA,YAAR,QAA2B,qBAA3B;AAEA,OAAO,SAASC,WAAT,CAAqBC,QAArB,EAA+BC,IAA/B,EAAqC;AACxC,QAAMC,MAAM,GAAGF,QAAQ,CAACG,UAAT,CAAoBC,MAAnC;AAEA,SAAOH,IAAI,CAACI,GAAL,CAASC,GAAG,IAAI;AACnB,UAAMC,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBI,MAAjB,CAAwBC,GAAG,IAAIA,GAAG,KAAK,cAAvC,CAAb;AACA,UAAMC,GAAG,GAAG,IAAIC,KAAJ,CAAUN,IAAI,CAACH,MAAL,GAAcF,MAAxB,CAAZ;;AACA,SAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,IAAI,CAACH,MAAL,GAAcF,MAAlC,EAA0CY,CAAC,EAA3C,EAA+C;AAC3CF,MAAAA,GAAG,CAACE,CAAD,CAAH,GAAS;AACLH,QAAAA,GAAG,EAAEb,YAAY,CAACS,IAAI,CAACO,CAAC,GAAGZ,MAAL,CAAL,CADZ;AAELa,QAAAA,UAAU,EAAET,GAAG,CAACC,IAAI,CAACO,CAAC,GAAGZ,MAAL,CAAL,CAFV;AAGLc,QAAAA,SAAS,EAAEV,GAAG,CAACC,IAAI,CAACO,CAAC,GAAGZ,MAAJ,GAAa,CAAd,CAAL,CAHT;AAILU,QAAAA,GAAG,EAAEN;AAJA,OAAT;AAMH;;AACD,WAAOM,GAAP;AACH,GAZM,CAAP;AAaH","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {groupFromKey} from \"../series/seriesKey\";\n\nexport function xySplitData(settings, data) {\n    const n_cols = settings.mainValues.length;\n\n    return data.map(col => {\n        const cols = Object.keys(col).filter(key => key !== \"__ROW_PATH__\");\n        const row = new Array(cols.length / n_cols);\n        for (let i = 0; i < cols.length / n_cols; i++) {\n            row[i] = {\n                key: groupFromKey(cols[i * n_cols]),\n                crossValue: col[cols[i * n_cols]],\n                mainValue: col[cols[i * n_cols + 1]],\n                row: col\n            };\n        }\n        return row;\n    });\n}\n"],"file":"xySplitData.js"}