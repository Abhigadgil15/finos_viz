{"version":3,"sources":["../../../src/js/axis/axisType.js"],"names":["AXIS_TYPES","none","ordinal","time","linear","axisType","settings","settingName","settingValue","excludeType","getType","checkTypes","types","list","filter","s","name","length","some","includes","type","args"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAO,MAAMA,UAAU,GAAG;AACtBC,EAAAA,IAAI,EAAE,MADgB;AAEtBC,EAAAA,OAAO,EAAE,SAFa;AAGtBC,EAAAA,IAAI,EAAE,MAHgB;AAItBC,EAAAA,MAAM,EAAE;AAJc,CAAnB;AAOP,OAAO,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;AAChC,MAAIC,WAAW,GAAG,aAAlB;AACA,MAAIC,YAAY,GAAG,IAAnB;AACA,MAAIC,WAAW,GAAG,IAAlB;;AAEA,QAAMC,OAAO,GAAG,MAAM;AAClB,UAAMC,UAAU,GAAGC,KAAK,IAAI;AACxB,YAAMC,IAAI,GAAGL,YAAY,GAAGF,QAAQ,CAACC,WAAD,CAAR,CAAsBO,MAAtB,CAA6BC,CAAC,IAAIP,YAAY,IAAIO,CAAC,CAACC,IAApD,CAAH,GAA+DV,QAAQ,CAACC,WAAD,CAAhG;;AAEA,UAAIA,WAAW,IAAI,aAAf,IAAgCM,IAAI,CAACI,MAAL,GAAc,CAAlD,EAAqD;AACjD;AACA,eAAO,KAAP;AACH;;AAED,aAAOJ,IAAI,CAACK,IAAL,CAAUH,CAAC,IAAIH,KAAK,CAACO,QAAN,CAAeJ,CAAC,CAACK,IAAjB,CAAf,CAAP;AACH,KATD;;AAWA,QAAId,QAAQ,CAACC,WAAD,CAAR,CAAsBU,MAAtB,KAAiC,CAArC,EAAwC;AACpC,aAAOjB,UAAU,CAACC,IAAlB;AACH,KAFD,MAEO,IAAIQ,WAAW,IAAIT,UAAU,CAACG,IAA1B,IAAkCQ,UAAU,CAAC,CAAC,UAAD,EAAa,MAAb,CAAD,CAAhD,EAAwE;AAC3E,aAAOX,UAAU,CAACG,IAAlB;AACH,KAFM,MAEA,IAAIM,WAAW,IAAIT,UAAU,CAACI,MAA1B,IAAoCO,UAAU,CAAC,CAAC,SAAD,EAAY,OAAZ,CAAD,CAAlD,EAA0E;AAC7E,aAAOX,UAAU,CAACI,MAAlB;AACH;;AAED,QAAIK,WAAW,IAAIT,UAAU,CAACE,OAA9B,EAAuC;AACnC,aAAOF,UAAU,CAACI,MAAlB;AACH;;AACD,WAAOJ,UAAU,CAACE,OAAlB;AACH,GAxBD;;AA0BAQ,EAAAA,OAAO,CAACH,WAAR,GAAsB,CAAC,GAAGc,IAAJ,KAAa;AAC/B,QAAI,CAACA,IAAI,CAACJ,MAAV,EAAkB;AACd,aAAOV,WAAP;AACH;;AACDA,IAAAA,WAAW,GAAGc,IAAI,CAAC,CAAD,CAAlB;AACA,WAAOX,OAAP;AACH,GAND;;AAQAA,EAAAA,OAAO,CAACF,YAAR,GAAuB,CAAC,GAAGa,IAAJ,KAAa;AAChC,QAAI,CAACA,IAAI,CAACJ,MAAV,EAAkB;AACd,aAAOT,YAAP;AACH;;AACDA,IAAAA,YAAY,GAAGa,IAAI,CAAC,CAAD,CAAnB;AACA,WAAOX,OAAP;AACH,GAND;;AAQAA,EAAAA,OAAO,CAACD,WAAR,GAAsB,CAAC,GAAGY,IAAJ,KAAa;AAC/B,QAAI,CAACA,IAAI,CAACJ,MAAV,EAAkB;AACd,aAAOR,WAAP;AACH;;AACDA,IAAAA,WAAW,GAAGY,IAAI,CAAC,CAAD,CAAlB;AACA,WAAOX,OAAP;AACH,GAND;;AAQA,SAAOA,OAAP;AACH,CAxDM","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nexport const AXIS_TYPES = {\n    none: \"none\",\n    ordinal: \"ordinal\",\n    time: \"time\",\n    linear: \"linear\"\n};\n\nexport const axisType = settings => {\n    let settingName = \"crossValues\";\n    let settingValue = null;\n    let excludeType = null;\n\n    const getType = () => {\n        const checkTypes = types => {\n            const list = settingValue ? settings[settingName].filter(s => settingValue == s.name) : settings[settingName];\n\n            if (settingName == \"crossValues\" && list.length > 1) {\n                // can't do multiple values on non-ordinal cross-axis\n                return false;\n            }\n\n            return list.some(s => types.includes(s.type));\n        };\n\n        if (settings[settingName].length === 0) {\n            return AXIS_TYPES.none;\n        } else if (excludeType != AXIS_TYPES.time && checkTypes([\"datetime\", \"date\"])) {\n            return AXIS_TYPES.time;\n        } else if (excludeType != AXIS_TYPES.linear && checkTypes([\"integer\", \"float\"])) {\n            return AXIS_TYPES.linear;\n        }\n\n        if (excludeType == AXIS_TYPES.ordinal) {\n            return AXIS_TYPES.linear;\n        }\n        return AXIS_TYPES.ordinal;\n    };\n\n    getType.settingName = (...args) => {\n        if (!args.length) {\n            return settingName;\n        }\n        settingName = args[0];\n        return getType;\n    };\n\n    getType.settingValue = (...args) => {\n        if (!args.length) {\n            return settingValue;\n        }\n        settingValue = args[0];\n        return getType;\n    };\n\n    getType.excludeType = (...args) => {\n        if (!args.length) {\n            return excludeType;\n        }\n        excludeType = args[0];\n        return getType;\n    };\n\n    return getType;\n};\n"],"file":"axisType.js"}